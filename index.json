[{"categories":["tricks"],"content":"conda is a package manager for Python. ","date":"2023-08-09","objectID":"/conda-basics/:0:0","series":[],"tags":["conda"],"title":"Conda Basics","uri":"/conda-basics/#"},{"categories":["tricks"],"content":"\rCreate a New Environment conda create -n \u003cenv name\u003e python=\u003cpython version\u003e ","date":"2023-08-09","objectID":"/conda-basics/:1:0","series":[],"tags":["conda"],"title":"Conda Basics","uri":"/conda-basics/#create-a-new-environment"},{"categories":["tricks"],"content":"\rInstall Packages conda install \u003cpackage name\u003e ","date":"2023-08-09","objectID":"/conda-basics/:2:0","series":[],"tags":["conda"],"title":"Conda Basics","uri":"/conda-basics/#install-packages"},{"categories":["tricks"],"content":"\rActivate an Environment conda activate \u003cenv name\u003e ","date":"2023-08-09","objectID":"/conda-basics/:3:0","series":[],"tags":["conda"],"title":"Conda Basics","uri":"/conda-basics/#activate-an-environment"},{"categories":["tricks"],"content":"\rDeactivate an Environment conda deactivate ","date":"2023-08-09","objectID":"/conda-basics/:4:0","series":[],"tags":["conda"],"title":"Conda Basics","uri":"/conda-basics/#deactivate-an-environment"},{"categories":["tricks"],"content":"\rList All Environments conda env list ","date":"2023-08-09","objectID":"/conda-basics/:5:0","series":[],"tags":["conda"],"title":"Conda Basics","uri":"/conda-basics/#list-all-environments"},{"categories":["tricks"],"content":"\rRemove an Environment conda remove -n \u003cenv name\u003e --all ","date":"2023-08-09","objectID":"/conda-basics/:6:0","series":[],"tags":["conda"],"title":"Conda Basics","uri":"/conda-basics/#remove-an-environment"},{"categories":["tricks"],"content":"SSH is a protocol that allows you to connect to a remote computer. It is widely used in remote computing, such as connecting to a remote server or running Jupyter Lab in a remote host. ","date":"2023-08-09","objectID":"/ssh-basics/:0:0","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#"},{"categories":["tricks"],"content":"\r1. SSH Access to WindowsFor an in-depth tutorial, refer to this link. ","date":"2023-08-09","objectID":"/ssh-basics/:1:0","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#1-ssh-access-to-windows"},{"categories":["tricks"],"content":"\rCreating an SSH Key in Local SSH ClientFor a detailed explanation, refer to my previous post. In summary: Generate a key pair in the local SSH client. Activate the ssh-agent and link the private key to it. In Windows, this process can be executed in PowerShell: # Generate a key pair ssh-keygen -t ed25519 # By default, the ssh-agent service is disabled. Configure it to start automatically. Ensure you're running as an Administrator. Get-Service ssh-agent | Set-Service -StartupType Automatic # Activate the service Start-Service ssh-agent # This should return a status of Running Get-Service ssh-agent # Load your key files into ssh-agent ssh-add $env:USERPROFILE\\.ssh\\id_ed25519 ","date":"2023-08-09","objectID":"/ssh-basics/:1:1","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#creating-an-ssh-key-in-local-ssh-client"},{"categories":["tricks"],"content":"\rStarting SSHD on the Remote Host # Set the sshd service to start automatically Get-Service -Name sshd | Set-Service -StartupType Automatic # Activate the sshd service Start-Service sshd ","date":"2023-08-09","objectID":"/ssh-basics/:1:2","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#starting-sshd-on-the-remote-host"},{"categories":["tricks"],"content":"\rDeploying the Public Key to the Remote HostYour public key, \\.ssh\\id_ed25519.pub, should be placed on the server in a text file named administrators_authorized_keys located in C:\\ProgramData\\ssh\\. ","date":"2023-08-09","objectID":"/ssh-basics/:1:3","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#deploying-the-public-key-to-the-remote-host"},{"categories":["tricks"],"content":"\rUsing VSCode as an SSH ClientTo connect, you need to know the username and hostname of the remote host. Determining the UsernameThe username typically matches the account name of the remote host, retrievable by: echo $env:USERNAME However, if youâ€™re using a Microsoft account to log in, the username might be the associated email address. Determining the HostnameThe hostname, which is the IP address of the remote host, can be retrieved with: ipconfig ","date":"2023-08-09","objectID":"/ssh-basics/:1:4","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#using-vscode-as-an-ssh-client"},{"categories":["tricks"],"content":"\rUsing VSCode as an SSH ClientTo connect, you need to know the username and hostname of the remote host. Determining the UsernameThe username typically matches the account name of the remote host, retrievable by: echo $env:USERNAME However, if youâ€™re using a Microsoft account to log in, the username might be the associated email address. Determining the HostnameThe hostname, which is the IP address of the remote host, can be retrieved with: ipconfig ","date":"2023-08-09","objectID":"/ssh-basics/:1:4","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#determining-the-username"},{"categories":["tricks"],"content":"\rUsing VSCode as an SSH ClientTo connect, you need to know the username and hostname of the remote host. Determining the UsernameThe username typically matches the account name of the remote host, retrievable by: echo $env:USERNAME However, if youâ€™re using a Microsoft account to log in, the username might be the associated email address. Determining the HostnameThe hostname, which is the IP address of the remote host, can be retrieved with: ipconfig ","date":"2023-08-09","objectID":"/ssh-basics/:1:4","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#determining-the-hostname"},{"categories":["tricks"],"content":"\r2. SSH Access to WSL2For a comprehensive guide, refer here. Since Windows uses port 22 by default for SSH, consider changing the SSH port in WSL2 to 2222 to prevent conflicts. ","date":"2023-08-09","objectID":"/ssh-basics/:2:0","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#2-ssh-access-to-wsl2"},{"categories":["tricks"],"content":"\rOn the Remote Host (WSL2) # Install openssh-server sudo apt install openssh-server # Modify the SSH configuration to use port 2222 sudo sed -i -E 's,^#?Port.*$,Port 2222,' /etc/ssh/sshd_config sudo service ssh restart # Allow passwordless sudo for the current user to start the SSH service sudo sh -c \"echo '${USER} ALL=(root) NOPASSWD: /usr/sbin/service ssh start' \u003e/etc/sudoers.d/service-ssh-start\" # Start the SSH service without requiring a password sudo /usr/sbin/service ssh start ","date":"2023-08-09","objectID":"/ssh-basics/:2:1","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#on-the-remote-host-wsl2"},{"categories":["tricks"],"content":"\rOn the Remote Host (Windows)\rUnblock Port 2222 New-NetFirewallRule -Name sshd -DisplayName 'OpenSSH Server (sshd) for WSL' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 2222 Automatically Start SSHD ServiceCreate a CMD script to initiate the SSHD service in WSL2. @echo off setlocal C:\\Windows\\System32\\bash.exe -c \"sudo /usr/sbin/service ssh start\" C:\\Windows\\System32\\netsh.exe interface portproxy delete v4tov4 listenport=2022 listenaddress=0.0.0.0 protocol=tcp for /f %%i in ('wsl hostname -I') do set IP=%%i C:\\Windows\\System32\\netsh.exe interface portproxy add v4tov4 listenport=2022 listenaddress=0.0.0.0 connectport=2022 connectaddress=%IP% endlocal ","date":"2023-08-09","objectID":"/ssh-basics/:2:2","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#on-the-remote-host-windows"},{"categories":["tricks"],"content":"\rOn the Remote Host (Windows)\rUnblock Port 2222 New-NetFirewallRule -Name sshd -DisplayName 'OpenSSH Server (sshd) for WSL' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 2222 Automatically Start SSHD ServiceCreate a CMD script to initiate the SSHD service in WSL2. @echo off setlocal C:\\Windows\\System32\\bash.exe -c \"sudo /usr/sbin/service ssh start\" C:\\Windows\\System32\\netsh.exe interface portproxy delete v4tov4 listenport=2022 listenaddress=0.0.0.0 protocol=tcp for /f %%i in ('wsl hostname -I') do set IP=%%i C:\\Windows\\System32\\netsh.exe interface portproxy add v4tov4 listenport=2022 listenaddress=0.0.0.0 connectport=2022 connectaddress=%IP% endlocal ","date":"2023-08-09","objectID":"/ssh-basics/:2:2","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#unblock-port-2222"},{"categories":["tricks"],"content":"\rOn the Remote Host (Windows)\rUnblock Port 2222 New-NetFirewallRule -Name sshd -DisplayName 'OpenSSH Server (sshd) for WSL' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 2222 Automatically Start SSHD ServiceCreate a CMD script to initiate the SSHD service in WSL2. @echo off setlocal C:\\Windows\\System32\\bash.exe -c \"sudo /usr/sbin/service ssh start\" C:\\Windows\\System32\\netsh.exe interface portproxy delete v4tov4 listenport=2022 listenaddress=0.0.0.0 protocol=tcp for /f %%i in ('wsl hostname -I') do set IP=%%i C:\\Windows\\System32\\netsh.exe interface portproxy add v4tov4 listenport=2022 listenaddress=0.0.0.0 connectport=2022 connectaddress=%IP% endlocal ","date":"2023-08-09","objectID":"/ssh-basics/:2:2","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#automatically-start-sshd-service"},{"categories":["tricks"],"content":"\rConnecting to WSL2 ssh -p 2222 \u003cusername\u003e@\u003chostname\u003e Note that the username here is distinct from the Windows host username; it pertains to the Linux system. Determine it using: whoami The hostname, however, remains consistent with the Windows host. VSCode Remote - SSHEdit the ~/.ssh/config on the local client: Host \u003chostname\u003e HostName \u003cnickname_windows\u003e User \u003cusername_windows\u003e Port 22 Host \u003chostname\u003e HostName \u003cnickname_wsl\u003e User \u003cusername_wsl\u003e Port 2222 ","date":"2023-08-09","objectID":"/ssh-basics/:2:3","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#connecting-to-wsl2"},{"categories":["tricks"],"content":"\rConnecting to WSL2 ssh -p 2222 @ Note that the username here is distinct from the Windows host username; it pertains to the Linux system. Determine it using: whoami The hostname, however, remains consistent with the Windows host. VSCode Remote - SSHEdit the ~/.ssh/config on the local client: Host HostName User Port 22 Host HostName User Port 2222 ","date":"2023-08-09","objectID":"/ssh-basics/:2:3","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#vscode-remote---ssh"},{"categories":["tricks"],"content":"\r3. Running Jupyter Lab on a Remote HostUse ssh to run jupyter lab on a remote host and access it from a local browser. ","date":"2023-08-09","objectID":"/ssh-basics/:3:0","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#3-running-jupyter-lab-on-a-remote-host"},{"categories":["tricks"],"content":"\rRedirect Traffic from Remote Port to Local PortIf you designate \u003cremote_port\u003e for the remote and \u003clocal_port\u003e for the local, redirect the traffic as: ssh -L \u003clocal_port\u003e:localhost:\u003cremote_port\u003e \u003cusername\u003e@\u003chostname\u003e ","date":"2023-08-09","objectID":"/ssh-basics/:3:1","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#redirect-traffic-from-remote-port-to-local-port"},{"categories":["tricks"],"content":"\rRunning Jupyter Lab on the Remote Host jupyter lab --no-browser --port=\u003cremote_port\u003e ","date":"2023-08-09","objectID":"/ssh-basics/:3:2","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#running-jupyter-lab-on-the-remote-host"},{"categories":["tricks"],"content":"\r4. Using croc to Transfer FilesFor more details, consult this link. ","date":"2023-08-09","objectID":"/ssh-basics/:4:0","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#4-using-croc-to-transfer-files"},{"categories":["tricks"],"content":"\rOn the Local MachineNavigate to the directory you wish to sync: croc send --code \u003ccode\u003e . ","date":"2023-08-09","objectID":"/ssh-basics/:4:1","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#on-the-local-machine"},{"categories":["tricks"],"content":"\rOn the Remote MachineTo receive the files: croc --yes --overwrite \u003ccode\u003e ","date":"2023-08-09","objectID":"/ssh-basics/:4:2","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#on-the-remote-machine"},{"categories":["tricks"],"content":"\r5. Avoiding SSH passphrase promptTo avoid the SSH passphrase prompt, you can use ssh-add to add the key to the ssh-agent cache. ","date":"2023-08-09","objectID":"/ssh-basics/:5:0","series":[],"tags":["ssh","vscode"],"title":"SSH Basics","uri":"/ssh-basics/#5-avoiding-ssh-passphrase-prompt"},{"categories":["tricks"],"content":"Windows Package Manager (winget) is a package manager for Windows. It is similar to apt in Linux. It is a command-line tool that allows you to search for and install apps from the command line. It is a great tool for setting up a new Windows machine. ","date":"2023-08-09","objectID":"/winget-basics/:0:0","series":[],"tags":["winget"],"title":"Winget Basics","uri":"/winget-basics/#"},{"categories":["tricks"],"content":"\rSearch winget search \u003capp name\u003e ","date":"2023-08-09","objectID":"/winget-basics/:1:0","series":[],"tags":["winget"],"title":"Winget Basics","uri":"/winget-basics/#search"},{"categories":["tricks"],"content":"\rInstall winget install \u003capp name\u003e The \u003capp name\u003e can be found by winget search. It does not have to be the full name, but it has to be unique. ","date":"2023-08-09","objectID":"/winget-basics/:2:0","series":[],"tags":["winget"],"title":"Winget Basics","uri":"/winget-basics/#install"},{"categories":["tossing"],"content":"æˆ‘ä¸æƒ³è®©æˆ‘çš„ OnePlus 5T å˜æˆä¸€ä¸ªæ‘†è®¾, æ‰€ä»¥æˆ‘æƒ³æŠ˜è…¾ä¸€ä¸‹. è®©ä»–å‘æŒ¥ä½™åŠ›. The phone was running on Android 10, and I would like to upgrade it to Android 13. Luckily, there is a project called Project Elixir that provides Android 13 ROM for OnePlus 5T. ","date":"2023-02-02","objectID":"/toss-oneplus-5t/:0:0","series":[],"tags":["android"],"title":"æŠ˜è…¾ OnePlus 5T","uri":"/toss-oneplus-5t/#"},{"categories":["tossing"],"content":"\rProject ElixirXDA. Dumpling is the codename for the OnePlus 5T. Download the ROM from here: ProjectElixir Downloads ","date":"2023-02-02","objectID":"/toss-oneplus-5t/:1:0","series":[],"tags":["android"],"title":"æŠ˜è…¾ OnePlus 5T","uri":"/toss-oneplus-5t/#project-elixir"},{"categories":["tossing"],"content":"\rRecoveryOrangeFox Recovery Project ","date":"2023-02-02","objectID":"/toss-oneplus-5t/:2:0","series":[],"tags":["android"],"title":"æŠ˜è…¾ OnePlus 5T","uri":"/toss-oneplus-5t/#recovery"},{"categories":["tossing"],"content":"\rRecovery FlashingFollow the installation instructions on the lineageOS wiki: Install LineageOS on dumpling In the fastboot mode, you can use the following command to check if your device is connected: fastboot devices If nothing shows up, follow the instructions from XDA to fix the issue. ","date":"2023-02-02","objectID":"/toss-oneplus-5t/:3:0","series":[],"tags":["android"],"title":"æŠ˜è…¾ OnePlus 5T","uri":"/toss-oneplus-5t/#recovery-flashing"},{"categories":["tossing"],"content":"\rMagiskMagisk ","date":"2023-02-02","objectID":"/toss-oneplus-5t/:4:0","series":[],"tags":["android"],"title":"æŠ˜è…¾ OnePlus 5T","uri":"/toss-oneplus-5t/#magisk"},{"categories":["tossing"],"content":"\rLSPosedLSPosed ","date":"2023-02-02","objectID":"/toss-oneplus-5t/:5:0","series":[],"tags":["android"],"title":"æŠ˜è…¾ OnePlus 5T","uri":"/toss-oneplus-5t/#lsposed"},{"categories":["tossing"],"content":"\rGoogle CameraThe built-in google camera app is not working. Use NGCam_8.2.300-v1.8_snap.apk instead. To load XML configs, see this. You will also need to install OnePlus 5/5T Front Camera Fix (V6.3). ","date":"2023-02-02","objectID":"/toss-oneplus-5t/:6:0","series":[],"tags":["android"],"title":"æŠ˜è…¾ OnePlus 5T","uri":"/toss-oneplus-5t/#google-camera"},{"categories":["tricks"],"content":"è€æ˜¯å¿˜è®°çš„åˆ†å‰²çª—å£çš„å¿«æ·é”®, æ‰€ä»¥è®°å½•ä¸€ä¸‹. alt + shift + + å¢åŠ å·¦å³åˆ†å‰²ç”»é¢ alt + shift + - å¢åŠ ä¸Šä¸‹åˆ†å‰²ç”»é¢ alt + â† æˆ– â†’ ç§»åŠ¨ç„¦ç‚¹ç”»é¢ ctrl + shift + W å…³é—­è¿™ä¸ªå°åˆ†å‰²çª—æ ¼ ","date":"2023-01-30","objectID":"/windows-terminal-splitting-shorcuts/:0:0","series":[],"tags":["windows terminal"],"title":"Windows Terminal åˆ†å‰²å¿«æ·é”®","uri":"/windows-terminal-splitting-shorcuts/#"},{"categories":["tricks"],"content":"Some basics about Git and GitHub. å…¶å®ä¸Šç½‘ä¸€æœåˆ°å¤„éƒ½æœ‰, ä½†è¿˜æ˜¯è®°å½•ä¸€ä¸‹, æ–¹ä¾¿è‡ªå·±æŸ¥é˜…. ","date":"2023-01-25","objectID":"/github-basics/:0:0","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#"},{"categories":["tricks"],"content":"\rSome References Git and GitHub (Concise) Git ä¸ä»£ç ç®¡ç† (Good!) ","date":"2023-01-25","objectID":"/github-basics/:1:0","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#some-references"},{"categories":["tricks"],"content":"\rConfigure Git git config --global user.name \"Your Name Here\" git config --global user.email \"your_email@youremail.com\" ","date":"2023-01-25","objectID":"/github-basics/:2:0","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#configure-git"},{"categories":["tricks"],"content":"\rGit Clone git clone https://github.com/\u003cusername\u003e/\u003crepo-name\u003e.git # https git clone git@github.com:\u003cusername\u003e/\u003crepo-name\u003e.git # SSH ","date":"2023-01-25","objectID":"/github-basics/:3:0","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#git-clone"},{"categories":["tricks"],"content":"\rSSH Config for GitHub","date":"2023-01-25","objectID":"/github-basics/:4:0","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#ssh-config-for-github"},{"categories":["tricks"],"content":"\rCheck for existing SSH keysFirst check for existing SSH keys on your computer by running: ls -al ~/.ssh # Lists the files in your .ssh directory, if they exist Check the directory listing to see if you have files named either id_rsa.pub or id_dsa.pub. If you donâ€™t have either of those files then read on, otherwise skip the next section. ","date":"2023-01-25","objectID":"/github-basics/:4:1","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#check-for-existing-ssh-keys"},{"categories":["tricks"],"content":"\rGenerate a new SSH key Open Terminal. Paste the text below, substituting in your GitHub email address. This creates a new ssh key, using the provided email as a label. ssh-keygen -t ed25519 -C \"your_email@example.com\" ","date":"2023-01-25","objectID":"/github-basics/:4:2","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#generate--a-new-ssh-key"},{"categories":["tricks"],"content":"\rAdd your SSH key to the ssh-agent Start the ssh-agent in the background. eval \"$(ssh-agent -s)\" Add your SSH private key to the ssh-agent. If you created your key with a different name, or if you are adding an existing key that has a different name, replace id_ed25519 in the command with the name of your private key file. ssh-add ~/.ssh/id_ed25519 ","date":"2023-01-25","objectID":"/github-basics/:4:3","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#add--your-ssh-key-to-the-ssh-agent"},{"categories":["tricks"],"content":"\rTest SSH connection ssh -T git@github.com ","date":"2023-01-25","objectID":"/github-basics/:4:4","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#test-ssh-connection"},{"categories":["tricks"],"content":"\rAdd a new SSH key to your GitHub accountSee GitHub documents ","date":"2023-01-25","objectID":"/github-basics/:4:5","series":[],"tags":["git, github"],"title":"Git Basics","uri":"/github-basics/#add-a-new-ssh-key-to-your-github-account"},{"categories":["tricks"],"content":"\rå¿«æ·é”®æ€»ç»“æŠ„è¢­ä¸€äº› VSCode çš„å¿«æ·é”® æœ€å¸¸ç”¨çš„åº”è¯¥å°±æ˜¯Ctrl + Shift + Päº†ï¼Œè¿™ä¸ªæ˜¯æ‰“å¼€å‘½ä»¤é¢æ¿çš„å¿«æ·é”®ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤é¢æ¿æ¥æ‰§è¡Œå„ç§æ“ä½œ. ","date":"2021-08-17","objectID":"/vscode-shortcuts/:1:0","series":[],"tags":["vscode"],"title":"VSCode æŠ€å·§","uri":"/vscode-shortcuts/#å¿«æ·é”®"},{"categories":["tricks"],"content":"\râ­ æ™ºèƒ½æ„ŸçŸ¥ Ctrl + Space è§¦å‘\"å»ºè®®\"å°éƒ¨ä»¶ Alt + \\ è§¦å‘ Github Copilot é»˜è®¤æƒ…å†µä¸‹ï¼ŒTab æˆ– Enter è¡¨ç¤ºæ¥å—å½“å‰é€‰é¡¹ ","date":"2021-08-17","objectID":"/vscode-shortcuts/:1:1","series":[],"tags":["vscode"],"title":"VSCode æŠ€å·§","uri":"/vscode-shortcuts/#-æ™ºèƒ½æ„ŸçŸ¥"},{"categories":["tricks"],"content":"\râ­ æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ æ‰“å¼€å…³é—­è¾¹æ  Ctrl+B ç¦…æ¨¡å¼ Ctrl + K, Z è¿›å…¥æ— å¹²æ‰°çš„ç¦…æ¨¡å¼ï¼›æŒ‰ä¸¤æ¬¡ Esc é€€å‡º å¿«é€Ÿæ‰“å¼€æ–‡ä»¶ Ctrl + P å¯ä»¥æœç´¢ ","date":"2021-08-17","objectID":"/vscode-shortcuts/:1:2","series":[],"tags":["vscode"],"title":"VSCode æŠ€å·§","uri":"/vscode-shortcuts/#-æ–‡ä»¶å’Œæ–‡ä»¶å¤¹"},{"categories":["tricks"],"content":"\râ­ ç¼–è¾‘æŠ€å·§ å½“ç„¶è¿™äº›æ“ä½œéƒ½å¯ä»¥é€šè¿‡ èœå• ğŸ‘‰ é€‰æ‹© æ¥è¿›è¡Œæ“ä½œ å¤šå…‰æ ‡ä¿®é¥°ç¬¦ å¤šå…‰æ ‡ä¿®é¥°ç¬¦æ˜¯ç”¨æ¥è®¾ç½®æˆ‘ä»¬å¦‚æœé…åˆé¼ æ ‡å•å‡»æ¥æ·»åŠ å¤šä¸ªå…‰æ ‡ã€‚ æ¯”å¦‚ï¼Œå½“æˆ‘ä»¬å¯ä»¥é€šè¿‡ Alt + å•å‡» æ·»åŠ å¤šä¸ªå…‰æ ‡æ—¶, Alt é”®å°±æ˜¯å¤šå…‰æ ‡ä¿®é¥°ç¬¦ æ’å…¥å¤šä¸ªå…‰æ ‡å, å¯ä»¥åŒæ—¶ç§»åŠ¨æˆ–è€…é€‰æ‹© é€šç”¨æ“ä½œ Ctrl + C, å¤åˆ¶å½“å‰æ–‡æœ¬ Ctrl + V, ç²˜è´´å½“å‰æ–‡æœ¬ Ctrl + Z, æ’¤é”€ Ctrl + Shift + Z, åæ’¤é”€ Shift + Alt + F, Format Document Ctrl + /, å°†å½“å‰è¡Œæ³¨é‡Š / åæ³¨é‡Š, å½“å¤šè¡Œæ–‡æœ¬è¢«é€‰ä¸­æ—¶, å°†å¤šè¡Œæ–‡æœ¬æ³¨é‡Š å…‰æ ‡ç§»åŠ¨ Ctrl + â† å°†å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå•è¯ Ctrl + â†’ å°†å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå•è¯ å…‰æ ‡æ“ä½œ Ctrl + Alt + â†‘, å‘ä¸ŠåŠ å…¥ä¸€ä¸ªå…‰æ ‡ Ctrl + Alt + â†“, å‘ä¸‹åŠ å…¥ä¸€ä¸ªå…‰æ ‡ Ctrl + U, æ’¤é”€ä¸Šæ¬¡å…‰æ ‡æ“ä½œ ç•Œé¢ç§»åŠ¨ Ctrl + â†‘ å‘ä¸Šç§»åŠ¨å½“å‰ç•Œé¢ Ctrl + â†“ å‘ä¸‹ç§»åŠ¨å½“å‰ç•Œé¢ Alt é”®å¯åœ¨ç¼–è¾‘å™¨å’Œèµ„æºç®¡ç†å™¨ä¸­ï¼ˆ5 å€ï¼‰å¿«é€Ÿæ»šåŠ¨ é€‰ä¸­æ“ä½œ Shift + â† å‘å·¦é€‰ä¸­ / åé€‰ä¸­ä¸€ä¸ªå­—ç¬¦ (é‡è¦) Shift + â†’ å‘å³é€‰ä¸­ / åé€‰ä¸­ä¸€ä¸ªå­—ç¬¦ (é‡è¦) Ctrl + Shift + â† å‘å·¦é€‰ä¸­ / åé€‰ä¸­ä¸€ä¸ªå•è¯ (é‡è¦) Ctrl + Shift + â†’ å‘å³é€‰ä¸­ / åé€‰ä¸­ä¸€ä¸ªå•è¯ (é‡è¦) Ctrl + D å½“å‰æœ‰é€‰ä¸­æ–‡æœ¬æ—¶, å°†ä¸‹ä¸€ä¸ªä¸å…¶ç›¸åŒçš„æ–‡æœ¬åŠ å…¥é€‰ä¸­ (é‡è¦) Ctrl + L é€‰æ‹©å½“å‰è¡Œ Ctrl + Shift + L: é€‰ä¸­æ–‡ä»¶ä¸­æ‰€æœ‰ç›¸åŒçš„å­—ç¬¦ä¸² Shift+Alt+é¼ æ ‡æ‹–åŠ¨ åˆ—(æ¡†)é€‰ Shift + Alt + Right æ‰©å¤§é€‰ä¸­åŒºåŸŸ Shift + Alt + Left ç¼©å°å½“å‰é€‰æ‹© æ–‡æœ¬è¡Œæ“ä½œ Ctrl + C å½“å‰æ— é€‰ä¸­æ–‡æœ¬æ—¶, å¤åˆ¶å½“å‰è¡Œ Shift + Alt + â†‘ å‘ä¸Šå¤åˆ¶å½“å‰è¡Œ, å½“å¤šè¡Œæ–‡æœ¬è¢«é€‰ä¸­æ—¶, å‘ä¸Šå¤åˆ¶å¤šè¡Œ (é‡è¦) Shift + Alt + â†“ å‘ä¸‹å¤åˆ¶å½“å‰è¡Œ, å½“å¤šè¡Œæ–‡æœ¬è¢«é€‰ä¸­æ—¶, å‘ä¸‹å¤åˆ¶å¤šè¡Œ (é‡è¦) Alt + â†‘ å‘ä¸Šç§»åŠ¨å½“å‰è¡Œ, å½“å¤šè¡Œæ–‡æœ¬è¢«é€‰ä¸­æ—¶, å°†å½“å‰å¤šè¡Œæ–‡æœ¬å‘ä¸Šç§»åŠ¨ (é‡è¦) Alt + â†“å‘ä¸‹ç§»åŠ¨å½“å‰è¡Œ, å½“å¤šè¡Œæ–‡æœ¬è¢«é€‰ä¸­æ—¶, å°†å½“å‰å¤šè¡Œæ–‡æœ¬å‘ä¸‹ç§»åŠ¨ (é‡è¦) Ctrl+Enter åœ¨å½“å‰è¡Œä¸‹è¾¹æ’å…¥ä¸€è¡Œ Ctrl+Shift+Enter åœ¨å½“å‰è¡Œä¸Šæ–¹æ’å…¥ä¸€è¡Œ å¯¼èˆªåˆ°ç‰¹å®šè¡Œ Ctrl + G å¯¼èˆªåˆ°æ–‡ä»¶çš„å¼€å¤´å’Œç»“å°¾ Ctrl + Home å’Œ Ctrl + End æ‹¬å·åŒ¹é… Windows / Linux: ctrl+shift+\\ ","date":"2021-08-17","objectID":"/vscode-shortcuts/:1:3","series":[],"tags":["vscode"],"title":"VSCode æŠ€å·§","uri":"/vscode-shortcuts/#-ç¼–è¾‘æŠ€å·§"},{"categories":["academic"],"content":"Liquid Crystals in FDTD simulation ","date":"2021-08-16","objectID":"/fdtd-lc/:0:0","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#"},{"categories":["academic"],"content":"\rgeneral work flow grid attribute object defines a transform $U$ to diagonalize the permittivity. $U$ is often a simple rotation matrix. in the material database, create a diagonal anisotropic material on the material tab of a structure object, select the defined diagonal anisotropic material link the LC grid attribute to the object( grid attribute property) ","date":"2021-08-16","objectID":"/fdtd-lc/:1:0","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#general-work-flow"},{"categories":["academic"],"content":"\rLC rotationThe Liquid crystal (LC) rotation grid attribute allows you to specify a spatially varying LC director orientation in terms of $\\theta$, $\\phi$. LC director orientation\rLiquid crystals are composed of rod-like molecular structures which have rotational symmetry with respect to a long axis. Therefore, liquid crystals have spatially varying uni-axial optical properties. The refractive indices with respect to the long and short molecular axes are called extraordinary $n_e$ and ordinary $n_o$ respectively, see figure above. Rotational symmetry allows the transformation matrix to reduced to a function of two rotational angles ($\\theta$, $\\phi$). KaTex Tip\r\\begin{aligned} canâ€™t be on its own line. Nor can \\end{aligned}. You need to use four \\s instead of two because they need to be escaped. You must have a trailing space at the end of those four \\s. $$\r\\mathbf{U} =\rU_z U_y =\r\\begin{bmatrix} \\cos\\phi \u0026 -\\sin\\phi\u0026 0 \\\\ \\sin\\phi \u0026 \\cos\\phi \u0026 0 \\\\ 0 \u0026 0 \u0026 1 \\end{bmatrix}\r\\begin{bmatrix} \\cos\\theta \u0026 0 \u0026 \\sin\\theta \\\\ 0 \u0026 1 \u0026 0 \\\\ -\\sin\\theta \u0026 0 \u0026 \\cos\\theta \\end{bmatrix} =\r\\begin{bmatrix} \\cos\\theta \\cos\\phi \u0026 -\\sin\\theta \u0026 \\sin\\theta \\sin\\phi \\\\ \\cos\\theta \\sin\\phi \u0026 \\cos\\phi \u0026 \\sin\\theta \\sin\\phi \\\\ -\\sin\\theta \u0026 0 \u0026 \\cos\\theta \\end{bmatrix}\r$$\rand the permittivity tensor in the reference (or simulation ) coordinate system $(x,y,z)$ is transformed to the principal coordinate system $(X,Y,Z)$ via a rotation about $z$, and the $y$. we have the transform relation: $$\\begin{bmatrix} X\\\\ Y\\\\ Z \\end{bmatrix} = U(\\theta, \\phi) \\begin{bmatrix} x\\\\ y\\\\ z \\end{bmatrix} $$\rand the permittivity in two coordinate systems $$\\mathbf{\\tilde \\varepsilon}_D =U^\\ast(\\theta,\\phi)\\tilde\\varepsilon U(\\theta,\\phi)$$ where $$\r\\tilde\\varepsilon_{D}= \\begin{bmatrix} \\varepsilon_0 \u00260\u0026 0 \\\\ 0\u0026 \\varepsilon_0 \u0026 0 \\\\ 0 \u0026 0 \u0026 \\varepsilon_0 \\end{bmatrix}=\\begin{bmatrix} n_0^2 \u00260\u0026 0 \\\\ 0\u0026 n_0^2 \u0026 0 \\\\ 0 \u0026 0 \u0026 n_e^2\\end{bmatrix}\r$$\ris the permittivity in the principle coordinate system $(X,Y,Z)$. ","date":"2021-08-16","objectID":"/fdtd-lc/:2:0","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#lc-rotation"},{"categories":["academic"],"content":"\rUniform distributionIt is quite simple. In LC attribute object, set the properties â€œthetaâ€ and â€˜phi\". ","date":"2021-08-16","objectID":"/fdtd-lc/:3:0","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#uniform-distribution"},{"categories":["academic"],"content":"\rSpatially varying orientation distribution of LCs","date":"2021-08-16","objectID":"/fdtd-lc/:4:0","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#spatially-varying-orientation-distribution-of-lcs"},{"categories":["academic"],"content":"\rImporting data using the script environmentIn this case, we can use the addgridattribute , and optionally the importdataset script command to add the LC attribute and to set the spatially varying LC orientation. For example, if we want to set up LCs which are twisted in z direction as shown below, where the components of the LC director are given by $$\\begin{align*}u_{x}(x,y,z) \u0026=\\cos(\\pi z) \\\\ u_{y}(x,y,z) \u0026=\\sin(\\pi z) \\\\ u_{z}(x,y,z) \u0026=0\\end{align*}$$\r# %matplotlib widget # %matplotlib widget %matplotlib inline %config InlineBackend.figure_format = 'svg' # %config InlineBackend.figure_format = 'retina' import matplotlib.pyplot as plt from mpl_toolkits.mplot3d.proj3d import proj_transform from mpl_toolkits.mplot3d.axes3d import Axes3D import numpy as np from matplotlib.patches import FancyArrowPatch class Arrow3D(FancyArrowPatch): def __init__(self, x, y, z, dx, dy, dz, *args, **kwargs): super().__init__((0, 0), (0, 0), *args, **kwargs) self._xyz = (x, y, z) self._dxdydz = (dx, dy, dz) def draw(self, renderer): x1, y1, z1 = self._xyz dx, dy, dz = self._dxdydz x2, y2, z2 = (x1 + dx, y1 + dy, z1 + dz) xs, ys, zs = proj_transform((x1, x2), (y1, y2), (z1, z2), self.axes.M) self.set_positions((xs[0], ys[0]), (xs[1], ys[1])) super().draw(renderer) def _arrow3D(ax, x, y, z, dx, dy, dz, *args, **kwargs): '''Add an 3d arrow to an `Axes3D` instance.''' arrow = Arrow3D(x, y, z, dx, dy, dz, *args, **kwargs) ax.add_artist(arrow) setattr(Axes3D, 'arrow3D', _arrow3D) def LC_twist_z_axis(): with plt.style.context(['science', 'notebook']): fig = plt.figure(dpi = 100) ax = plt.axes(projection='3d') # Make the grid x, y, z = np.meshgrid(0, 0, np.arange(0, 4, 0.03)) # Make the direction data for the arrows ux = np.cos(np.pi * z) uy = np.sin(np.pi * z) uz = np.zeros(z.shape) ax.quiver(x, y, z, ux, uy, uz, length = 0.05, arrow_length_ratio = 0, pivot = 'middle', normalize = True, colors = 'red', alpha = 0.3, linestyles = 'solid') ax.arrow3D(0,0,-0.25,0,-0.05,0, mutation_scale= 30, arrowstyle=\"-|\u003e\", linestyle='solid', color = 'green', alpha = 0.4, linewidth = 5) ax.arrow3D(0,0,-0.25,0.05,0,0, mutation_scale= 30, arrowstyle=\"-|\u003e\", linestyle='solid', color = 'green', alpha = 0.4, linewidth = 5) ax.arrow3D(0,0,-0.25,0,0,7, mutation_scale= 30, arrowstyle=\"-|\u003e\", linestyle='solid', color = 'green', alpha = 0.4, linewidth = 5) ax.grid(False) ax.axis(False) ax.view_init(elev=45, azim=-45) plt.show() LC_twist_z_axis() LC directors twisted along z-axis\rwe define the director distribution in a matrix variable and put the matrix into the LC attribute property. In the following script, matrix â€œnâ€ is used to define the director distribution of the twisted nematic LCs, and this information is put into a dataset called LC which contains the x, y, z position data and the director orientations in an attribute called â€œuâ€. At the second last line where addgridattribute command is used, a LC attribute is added to the simulation and the director distribution is set up. Note : Magnitude of spatially varying orientation unit vector When specifying the LC orientation, it is important that the magnitude of the orientation vector be exactly 1, except in regions where you donâ€™t want the LC orientation to be set where the magnitude of the vector should be set to 0. # define x/y/z x = 0; y = 0; z = linspace(0e-6,5e-6,100); X = meshgrid3dx(x,y,z); Y = meshgrid3dy(x,y,z); Z = meshgrid3dz(x,y,z); n = matrix(length(x),length(y),length(z),3); # define the orientation function n(1:length(x),1:length(y),1:length(z),1) = cos(Z*pi*1e5); n(1:length(x),1:length(y),1:length(z),2) = sin(Z*pi*1e5); n(1:length(x),1:length(y),1:length(z),3) = 0; # create dataset containing orientation vectors and position parameters LC=rectilineardataset(\"LC\",x,y,z); LC.addattribute(\"u\",n); # add LC import grid attribute addgridattribute(\"lc orientation\",LC); setnamed(\"LC attribute\",\"nz\",50); # set resolution Note : When setting angle theta via â€˜setâ€™ script command, the input must be in radians. For example:","date":"2021-08-16","objectID":"/fdtd-lc/:4:1","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#importing-data-using-the-script-environment"},{"categories":["academic"],"content":"\rImporting data using the script environmentIn this case, we can use the addgridattribute , and optionally the importdataset script command to add the LC attribute and to set the spatially varying LC orientation. For example, if we want to set up LCs which are twisted in z direction as shown below, where the components of the LC director are given by $$\\begin{align*}u_{x}(x,y,z) \u0026=\\cos(\\pi z) \\\\ u_{y}(x,y,z) \u0026=\\sin(\\pi z) \\\\ u_{z}(x,y,z) \u0026=0\\end{align*}$$\r# %matplotlib widget # %matplotlib widget %matplotlib inline %config InlineBackend.figure_format = 'svg' # %config InlineBackend.figure_format = 'retina' import matplotlib.pyplot as plt from mpl_toolkits.mplot3d.proj3d import proj_transform from mpl_toolkits.mplot3d.axes3d import Axes3D import numpy as np from matplotlib.patches import FancyArrowPatch class Arrow3D(FancyArrowPatch): def __init__(self, x, y, z, dx, dy, dz, *args, **kwargs): super().__init__((0, 0), (0, 0), *args, **kwargs) self._xyz = (x, y, z) self._dxdydz = (dx, dy, dz) def draw(self, renderer): x1, y1, z1 = self._xyz dx, dy, dz = self._dxdydz x2, y2, z2 = (x1 + dx, y1 + dy, z1 + dz) xs, ys, zs = proj_transform((x1, x2), (y1, y2), (z1, z2), self.axes.M) self.set_positions((xs[0], ys[0]), (xs[1], ys[1])) super().draw(renderer) def _arrow3D(ax, x, y, z, dx, dy, dz, *args, **kwargs): '''Add an 3d arrow to an `Axes3D` instance.''' arrow = Arrow3D(x, y, z, dx, dy, dz, *args, **kwargs) ax.add_artist(arrow) setattr(Axes3D, 'arrow3D', _arrow3D) def LC_twist_z_axis(): with plt.style.context(['science', 'notebook']): fig = plt.figure(dpi = 100) ax = plt.axes(projection='3d') # Make the grid x, y, z = np.meshgrid(0, 0, np.arange(0, 4, 0.03)) # Make the direction data for the arrows ux = np.cos(np.pi * z) uy = np.sin(np.pi * z) uz = np.zeros(z.shape) ax.quiver(x, y, z, ux, uy, uz, length = 0.05, arrow_length_ratio = 0, pivot = 'middle', normalize = True, colors = 'red', alpha = 0.3, linestyles = 'solid') ax.arrow3D(0,0,-0.25,0,-0.05,0, mutation_scale= 30, arrowstyle=\"-|\u003e\", linestyle='solid', color = 'green', alpha = 0.4, linewidth = 5) ax.arrow3D(0,0,-0.25,0.05,0,0, mutation_scale= 30, arrowstyle=\"-|\u003e\", linestyle='solid', color = 'green', alpha = 0.4, linewidth = 5) ax.arrow3D(0,0,-0.25,0,0,7, mutation_scale= 30, arrowstyle=\"-|\u003e\", linestyle='solid', color = 'green', alpha = 0.4, linewidth = 5) ax.grid(False) ax.axis(False) ax.view_init(elev=45, azim=-45) plt.show() LC_twist_z_axis() LC directors twisted along z-axis\rwe define the director distribution in a matrix variable and put the matrix into the LC attribute property. In the following script, matrix â€œnâ€ is used to define the director distribution of the twisted nematic LCs, and this information is put into a dataset called LC which contains the x, y, z position data and the director orientations in an attribute called â€œuâ€. At the second last line where addgridattribute command is used, a LC attribute is added to the simulation and the director distribution is set up. Note : Magnitude of spatially varying orientation unit vector When specifying the LC orientation, it is important that the magnitude of the orientation vector be exactly 1, except in regions where you donâ€™t want the LC orientation to be set where the magnitude of the vector should be set to 0. # define x/y/z x = 0; y = 0; z = linspace(0e-6,5e-6,100); X = meshgrid3dx(x,y,z); Y = meshgrid3dy(x,y,z); Z = meshgrid3dz(x,y,z); n = matrix(length(x),length(y),length(z),3); # define the orientation function n(1:length(x),1:length(y),1:length(z),1) = cos(Z*pi*1e5); n(1:length(x),1:length(y),1:length(z),2) = sin(Z*pi*1e5); n(1:length(x),1:length(y),1:length(z),3) = 0; # create dataset containing orientation vectors and position parameters LC=rectilineardataset(\"LC\",x,y,z); LC.addattribute(\"u\",n); # add LC import grid attribute addgridattribute(\"lc orientation\",LC); setnamed(\"LC attribute\",\"nz\",50); # set resolution Note : When setting angle theta via â€˜setâ€™ script command, the input must be in radians. For example:","date":"2021-08-16","objectID":"/fdtd-lc/:4:1","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#realizaton-in-python"},{"categories":["academic"],"content":"\rImporting data from .mat file using the graphical user interfaceIn the edit window of the grid attribute, it is possible to import a .mat file containing a dataset with the required director distribution data by clicking on the â€œImport dataâ€¦â€ button. The following code shows an example of how to save a .mat file to be imported by using the matlabsave script command. # define x/y/z x = 0; y = 0; z = linspace(0e-6,5e-6,100); X = meshgrid3dx(x,y,z); Y = meshgrid3dy(x,y,z); Z = meshgrid3dz(x,y,z); n = matrix(length(x),length(y),length(z),3); # define the orientation function n(1:length(x),1:length(y),1:length(z),1) = cos(Z*pi*1e5); n(1:length(x),1:length(y),1:length(z),2) = sin(Z*pi*1e5); n(1:length(x),1:length(y),1:length(z),3) = 0; # create dataset containing orientation vectors and position parameters LC=rectilineardataset(\"LC\",x,y,z); LC.addattribute(\"u\",n); # save data to .mat file matlabsave(\"LC_import.mat\",LC); We then add a material with diagonal anisotropy components and set up the object to use the LC attribute similarly to the case of uniform distribution. ","date":"2021-08-16","objectID":"/fdtd-lc/:4:2","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#importing-data-from-mat-file-using-the-graphical-user-interface"},{"categories":["academic"],"content":"\rImporting data from a CSV (comma-separated values) fileFrom the Import menu in the top toolbar, click on Import from CSV to open the import wizard which allows you to select the CSV file to import. This file is typically created with TechWiz LCD from Sanayi System Co., Ltd (http://sanayisystem.com/). For more details on the file format and steps for importing the data from the graphical wizard, see Import object - Liquid crystal from CSV. The same data can also be imported using the importcsvlc script command. ","date":"2021-08-16","objectID":"/fdtd-lc/:4:3","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#importing-data-from-a-csv-comma-separated-values-file"},{"categories":["academic"],"content":"\rPackage Version import sys from typing import List from importlib.metadata import metadata import IPython.display as IPd def notebook_manifest(*packages: List[str] ) -\u003e str: manifest = [ '| Component | Version | Description |', '| --------------------------------- | -------------------------- | -------------------- |', f'| [Python](https://www.python.org/) | {sys.version.split()[0]} | Programming Language |' ] sorted_packages = [*packages]; # convert arguments to a list sorted_packages.sort() for p in sorted_packages: # build the markdown table of module metadata try: meta = {k: v for k, v in metadata(p).items()} manifest.append( f'| [{meta[\"Name\"]}]({meta[\"Home-page\"]}) | {meta[\"Version\"]} | {meta[\"Summary\"]} |') except: manifest.append( f'| {p} | ? | **Unrecognized module!** |') return IPd.Markdown('\\n'.join(manifest)) display(IPd.Markdown('**Packages used in This Notebook**')) notebook_manifest('jupyterlab', 'numpy', 'matplotlib', 'scipy') ","date":"2021-08-16","objectID":"/fdtd-lc/:5:0","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#package-version"},{"categories":["academic"],"content":"\rPackages used in This Notebook Component Version Description Python 3.9.6 Programming Language jupyterlab 3.0.14 The JupyterLab server extension. matplotlib 3.4.2 Python plotting package numpy 1.20.3 NumPy is the fundamental package for array computing with Python. scipy 1.6.2 SciPy: Scientific Library for Python ","date":"2021-08-16","objectID":"/fdtd-lc/:5:1","series":["fdtd"],"tags":["liquid crystal","python"],"title":"FDTD Liquid Crystals","uri":"/fdtd-lc/#packages-used-in-this-notebook"},{"categories":["academic"],"content":"FDTD basics, Python scripts controlling Lumerical. ","date":"2021-08-16","objectID":"/fdtd-basics/:0:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#"},{"categories":["academic"],"content":"\rSolver PhysicsIn three dimensions, Maxwell equations have six electromagnetic field components: Ex, Ey, Ez and Hx, Hy, and Hz. If we assume that the structure is infinite in the z dimension and that the fields are independent of z, then Maxwellâ€™s equations split into two independent sets of equations composed of three vector quantities each which can be solved in the x-y plane only. These are termed the TE (transverse electric), and TM (transverse magnetic) equations. We can solve both sets of equations with the following components: TE: Ex, Ey, Hz TM: Hx, Hy, Ez ","date":"2021-08-16","objectID":"/fdtd-basics/:1:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#solver-physics"},{"categories":["academic"],"content":"\rImpulse responseFDTD solves for the electric field and magnetic field as a function of time. the solver calculates $\\vec{E}\\left(t\\right)$ and $\\vec{H}\\left(t\\right)$ but, in general, what we want is field as a function of frequency or wavelength $\\vec{E}\\left(\\omega\\right)$ poynting vector, transmission, reflection time domain-\u003efreqency domain? Fourier Transform! In linear systems, the impulse response of the system: $$\\vec{E}\\left(\\omega\\right)=\\frac{1}{s\\left(\\omega\\right)}\\int_{0}^{t_{sim}}e^{i\\omega t}\\vec{E}\\left(t\\right)dt$$ where $$s\\left(\\omega\\right)=\\int_{0}^{t_{source}}e^{i\\omega t}\\vec{s}\\left(t\\right)dt$$ is the fourier transform of the source pulse. It should be independent of the source pulse used in linear optics system (no nonlinearity is considered here). Ideally, $s\\left(\\omega\\right)=1$ and $s\\left(t\\right)$ is a Dirac delta function $t_{sim}$ should be long enough. with impulse response $\\vec{E}\\left(\\omega\\right)$, $\\vec{H}\\left(\\omega\\right)$ and $\\varepsilon\\left(\\omega\\right)$, one can calculate reflection, transmission, scattering cross sections, absorptions and much more Poynting Vector $$\\left\u003c\\vec{P}\\left(\\omega\\right)\\right\u003e_{t}=\\frac{1}{2}\\Re\\left[\\vec{E}\\left(\\omega\\right)\\times\\vec{H}^{*}\\left(\\omega\\right)\\right]$$ which is not a simple fourier transform of $\\vec{P}\\left(t\\right)$. Power $$Power\\left(\\omega\\right)=\\int_{S}\\left\u003c\\vec{P}\\left(\\omega\\right)\\right\u003e_{t}\\cdot d\\vec{S}$$\rBut we have the Parseval-Plancherel theorem $$\\int_{-\\infty}^{\\infty}\\vec{E}\\left(t\\right)\\times\\vec{H}^{*}\\left(t\\right) dt=\\frac{1}{2\\pi}\\int_{-\\infty}^{\\infty}\\vec{E}\\left(\\omega\\right)\\times\\vec{H}^{*}\\left(\\omega\\right) d\\omega$$\rTransmission $$T\\left(\\omega\\right)=\\frac{\\int_{S}\\vec{P}\\left(\\omega\\right)\\cdot d\\vec{S}}{s\\left(\\omega\\right)}$$\r","date":"2021-08-16","objectID":"/fdtd-basics/:2:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#impulse-response"},{"categories":["academic"],"content":"\rMODEGiven a cross section of a waveguide, the finite-difference eigenmode (FDE) solver calculates the spatial profile and frequency dependence of modes. It can provides us: mode field profile effective index loss TE and TM ratio combined with frequency sweep, one can calculate group delay, dispresion and etc applicable to bent waveguide The solver assumes the waveguide structure in the z direction is uniform, and the field can be expressed as: $$\\vec{E}\\left( x, y\\right)e^{i\\left(\\beta z-\\omega t\\right)}$$ $$\\vec{H}\\left( x, y\\right)e^{i\\left(\\beta z-\\omega t\\right)}$$ where $\\omega$ is the angular frequency and $\\beta$ is the propagation constant. Once the structure is meshed, the whole problem is converted to a matrix eigenvalue problem and solved by sparse matrix technique. It can be seen the physics convention $e^{i\\left(\\beta z-\\omega t\\right)}$ is adopted here. If $\\beta\u003e0$, the wave is propagating in the positive z direction. ","date":"2021-08-16","objectID":"/fdtd-basics/:3:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#mode"},{"categories":["academic"],"content":"\reffective indexthe modal effective index is defined as $$n_{eff}=\\frac{c\\beta}{\\omega}$$ similar to the bulk index definition, except that geometric contributions are taken into account. Since the mode must be guided the effective index is bounded by the indices such that $$n_{\\text{max(sub,clad)}} \u003c n_{eff} \u003c n_{core}$$ ","date":"2021-08-16","objectID":"/fdtd-basics/:3:1","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#effective-index"},{"categories":["academic"],"content":"\rloss (dB/m)An electric field propagating in the positive z-direction in a medium with a complex refractive index of $n+i\\kappa$ can be expressed as follows: $$E(z) = e^{i2\\pi(n+i\\kappa)z/\\lambda_0}$$ here, $k = 2\\pi(n+i\\kappa)/\\lambda_0$. The propagation loss in dB/m for a mode propagating in the z-direction is defined as $$loss = -10 \\log_{10}(\\frac{P(z)|*{z = \\ 1\\ m}}{P(z)|*{z = \\ 0\\ m}}) = -10 \\log_{10}(\\frac{|E(1)|^2}{|E(0)|^2})=-20 \\log_{10}(\\frac{|E(1)|}{|E(0)|})$$\rCombining the formulas gives $$loss = -20 \\log_{10}(e^{-2\\pi\\kappa/\\lambda_0})$$\r","date":"2021-08-16","objectID":"/fdtd-basics/:3:2","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#loss-dbm"},{"categories":["academic"],"content":"\rTE polarization fractionTwo definitions for polarization fractions are provided by MODE. The TE Polarization Fraction definition is typically used in integrated optics, but for fibers, this also helps to determine the polarization of the mode. The â€œTE polarization fraction Exâ€ for propagation along the z-direction is defined by the following equation: $$\\text{TE polarization fraction (Ex)} = \\frac{\\int |Ex|^2 dxdy}{\\int (|Ex|^2+|Ey|^2)dxdy}$$ where $|Ex|^2+|Ey|^2$ corresponds to $|E_{||}|^2$ (since we are considering the polarization of the modes, here we only consider the fields parallel to the mode cross section). In this case, if TE polarization fraction (Ex) = 100%, this mode is considered pure TE-polarized. In contrast, 0% refers to a pure TM-polarized mode. Note that some modes may not be perfectly polarized in one direction and in those cases you may find quasi-polarized modes in the Mode List. For propagation along the x direction, ie., â€œTE polarization fraction Eyâ€: $$\\text{TE polarization fraction (Ey)} = \\frac{\\int |Ey|^2 dydz}{\\int (|Ey|^2+|Ez|^2) dydz}$$ For propagation along the y direction, ie., â€œTE polarization fraction Exâ€: $$\\text{TE polarization fraction (Ex)} =\\frac{\\int |Ex|^2 dxdz}{\\int (|Ex|^2+|Ez|^2) dxdz}$$ Note that this definition is arbitrary (since we allow for propagation in any direction), the user may have to look carefully at the field components if unusual orientations of the Eigenmode Solver are used. ","date":"2021-08-16","objectID":"/fdtd-basics/:3:3","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#te-polarization-fraction"},{"categories":["academic"],"content":"\rWaveguide TE/TM FractionThere are alternative definitions that are used more frequently for other applications. The waveguide TE/TM fraction indicates the amount of E/H field in the direction of propagation. It is equal to the integrated transverse field intensity divided by the integrated total field intensity. A mode with a waveguide TE/TM fraction of 100%/100% is a TEM mode The â€œwaveguide TE/TM fractionâ€ is defined by the following equations:. $$\\text{waveguide TE fraction } = 1-\\frac{\\int\\left|E_{\\perp}\\right|^{2} dA_{||}}{\\int\\left(|E|^{2}\\right) dA_{||}}$$ $$\\text{waveguide TM fraction } = 1-\\frac{\\int\\left|H_{\\perp}\\right|^{2} dA_{||}}{\\int\\left(|H|^{2}\\right) dA_{||}}$$ where $E_{\\perp}$ and H_{\\perp} refer to the field components perpendicular to the mode cross section (ie. in the direction of propagation), $A_{||}$ refers to the integration area on the mode cross section plane. ","date":"2021-08-16","objectID":"/fdtd-basics/:3:4","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#waveguide-tetm-fraction"},{"categories":["academic"],"content":"\rEffective AreaEffective area is a quantitative measure of the modal area. As with TE fraction, there are a number of possible similar definitions which can be easily misinterpreted. We have adopted the definition developed by G. P. Agrawal, Nonlinear Fiber Optics, 4th ed. (Academic, 2007). This method has the benefit of not making any assumptions about the shape of the field distribution beforehand. $$\\text{Effective Area} = \\frac{(\\int_{}^{}|E|^{2}dA)^{2} }{\\int_{}^{}|E|^{4}dA}$$ The effective area defined here is similar to the Landau, and Lishitz method, based on the ratio of a modeâ€™s total energy density per unit length and its peak energy density. For Gaussian beams, and fiber optic modes the most cited quantity is the beam waist w(z) or equivalently mode field diameter (MFD). The MFD corresponds to twice the radial distance, where $I(r) = 1-e^{-2}\\approx 13.5$. In with the comparison normal distribution this radial value would correspond to $f( x \\approx 3 \\sigma )$, and is related to the full width half maximum (FWHM) as $w(z) \\approx 1.18 \\text{ FWHM}$. The effective area method cited above is typically in the range of 95-104% of what would be found using through the circle described by the MFD. ","date":"2021-08-16","objectID":"/fdtd-basics/:3:5","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#effective-area"},{"categories":["academic"],"content":"\rBoundary condition","date":"2021-08-16","objectID":"/fdtd-basics/:4:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#boundary-condition"},{"categories":["academic"],"content":"\rPML The steep angle profile should be used when the fields are incident on the PML at a steep or grazing angle, typically beyond 60 degrees. ","date":"2021-08-16","objectID":"/fdtd-basics/:4:1","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#pml"},{"categories":["academic"],"content":"\rPeriodic With periodic boundaries, the periodicity is determined by the span of the simulation region. It is very important to understand that both the structure, electromagnetic fields and source must be periodic. For this reason, plane wave sources with normal incidence are most often used with periodic boundary conditions. ","date":"2021-08-16","objectID":"/fdtd-basics/:4:2","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#periodic"},{"categories":["academic"],"content":"\rBloch Bloch boundaries are used for periodic simulations where the source is injected at an angle â€“ they are similar to periodic boundaries where light which exits one boundary is re-injected from the opposite boundary, but they add the required phase difference to the light that is re-injected corresponding to the phase accumulated between the unit cells due to the angle of the source. ","date":"2021-08-16","objectID":"/fdtd-basics/:4:3","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#bloch"},{"categories":["academic"],"content":"\rSymmetry/anti-symmetry When you have a structure and source that have a plane of symmetry through the middle of the simulation region, symmetry boundaries allow you to reduce the size of the solver region that needs to be simulated. The main challenge with using symmetry boundaries is determining which type of symmetry exists in the system: Positive Symmetry, or Anti-Symmetry. In most cases, the type of symmetry can be determined from the source polarization. If the source polarization arrow is tangential to the plane of symmetry, then the polarization arrow and the boundary shading color should match. If the polarization arrow is normal to the boundary, then the colors should not match.In most cases, monitors automatically unfold field data according to these rules. When using symmetry boundaries, the boundary should only be applied to the â€˜minâ€™ boundary. The â€˜maxâ€™ boundary should be set to whatever the boundary would be without symmetry; typically PML. The only exception is when using symmetry boundaries with periodic structures. In such cases, set both the min and max boundaries in the periodic direction to use symmetric or anti-symmetric boundaries. You will need to enable the â€œallow symmetry on all boundariesâ€ option. ","date":"2021-08-16","objectID":"/fdtd-basics/:4:4","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#symmetryanti-symmetry"},{"categories":["academic"],"content":"\rSource","date":"2021-08-16","objectID":"/fdtd-basics/:5:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#source"},{"categories":["academic"],"content":"\rplane wave normal incidence/ angled incidence single frequency/ broadband Bloch/Periodic BFAST diffracting ","date":"2021-08-16","objectID":"/fdtd-basics/:5:1","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#plane-wave"},{"categories":["academic"],"content":"\rmode source The mode source can be used to inject the mode of a waveguide or fiber. The mode source includes an integrated mode solver with uses the finite-difference eigenmode solving algorithm to calculate the field profile of the supported modes of a given structure cross section. The mode solver assumes that the cross section of the structure constant along the propagation direction. To set up the mode source, the source should be positioned over the cross section of the waveguide or fiber. The mode source settings allow you to specify whether you want to find the mode for a straight or bent waveguide with a given bending radius, and also specify rotation angles to match the angle of the waveguide if the waveguide is not aligned with the x, y, or z-axis. You can choose to inject the fundamental mode which is the mode with highest effective index, or fundamental TE or fundamental TM mode which correspond to the mode with the highest effective index which has the desired TE-like or TM-like polarization. In FDTD Solutions, TE-like modes correspond to modes where the electric field polarization is primarily along the y-direction for sources injected along the x-axis, and primarily along the x-direction for sources injected in the y or z-axis directions. After calculating the modes using the specified mode solver settings, modes will appear in the model list at the top of the window, and you can select a mode from the mode list to plot the field profile of the mode. You can also see details about the calculated mode in the mode list table such as the effective index of the mode, loss, and polarization fraction. The formulae for the polarization fraction calculation and waveguide TE/TM fraction are calculated as: TE polarization fraction (for x-axis injection): $$\\frac{\\int\\left|E_{y}\\right|^2 dydz}{\\int\\left(\\left|E_{y}\\right|^2+\\left|E_{z}\\right|^2\\right) dydz}$$ waveguide TE and TM fraction (for z-axis injection): $$1-\\frac{\\int\\left|E_{\\perp}\\right|^2 dxdy}{\\int\\left(\\left|E\\right|^2\\right) dxdy}$$ $$1-\\frac{\\int\\left|H_{\\perp}\\right|^2 dxdy}{\\int\\left(\\left|H\\right|^2\\right) dxdy}$$ Multifrequency mode calculation option. This option should be used whenever injecting a broadband mode source. This will calculate the supported mode profile over the broadband range rather than just at the center frequency of the range. Ensure that the source span is wide enough to completely contain the mode of the structure. You can visually check this by plotting the field profile and making sure that the field amplitude of the mode decays to 0 around the edges of the source, but another way you can test this is by doing convergence testing by changing the span of the source. Start by calculating the mode, then increasing the span of the mode source and re-calculating the mode, then compare the calculated effective index of the mode between the two different source spans. If the mode source region is wide enough to contain the full mode, the calculated effective index should stay the same when you further increase the source span. ","date":"2021-08-16","objectID":"/fdtd-basics/:5:2","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#mode-source"},{"categories":["academic"],"content":"\rdipole source The dipole source is a point source which emits a dipole radiation pattern. There are 2 types of dipole sources available: electric and magnetic. The electric dipole is equivalent to an oscillating point charge, whereas the magnetic dipole is equivalent to a current loop. ","date":"2021-08-16","objectID":"/fdtd-basics/:5:3","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#dipole-source"},{"categories":["academic"],"content":"\rimport source The import source allows you to specify a custom field profile to inject. The data for the field profile of the source can come from monitor data measured in a previous simulation, or it could be from another software such as a third-party ray tracing tool. It can also be calculated based on a formula using the script. You might want to use monitor data from a previous simulation as a source in a subsequent simulation, and this can be done in order to break up a large simulation into two or more simulations. ","date":"2021-08-16","objectID":"/fdtd-basics/:5:4","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#import-source"},{"categories":["academic"],"content":"\rMonitor","date":"2021-08-16","objectID":"/fdtd-basics/:6:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#monitor"},{"categories":["academic"],"content":"\rfrequency domain field monitor Frequency domain field monitors return data in the frequency domain by taking the Fourier transform of the time domain fields. By default, CW normalization is applied, which means that the data is also normalized by the spectrum of the source pulse to give the result as though the source spectrum is uniform. In other words, by default, the result from a frequency domain monitor at a given frequency point is the response as though the source is injecting a continuous wave at the specified frequency with amplitude 1. There are two available frequency domain field monitors: the frequency-domain field profile monitor and the frequency-domain field and power monitor. The only difference between the two monitor types is the spatial interpolation method used. The profile monitor uses the specified position interpolation and the power monitor uses the nearest mesh cell interpolation method. In most cases, the results from these two monitors will be very similar. We recommend using the Frequency Domain Field and Power monitor unless you are an advanced user and have a detailed understanding of the monitor interpolation options. If all E and H field components are recorded by the monitor, itâ€™s possible to project the fields from the monitor to get the far field angular distribution. This result is something that is calculated as a post-processing step after the simulation has been run, so when you first try to visualize the farfield result of the monitor, if it hasnâ€™t yet been calculated, a window will pop up asking you to select the settings you want to use for the far field projection calculation. ","date":"2021-08-16","objectID":"/fdtd-basics/:6:1","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#frequency-domain-field-monitor"},{"categories":["academic"],"content":"\rAnalysis groupAnalysis groups can contain structures, sources, and monitors, and they are also capable of setting up the properties of these objects using a setup script. The analysis script is used to collect the results from monitors contained inside the group and calculate new results. ","date":"2021-08-16","objectID":"/fdtd-basics/:7:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#analysis-group"},{"categories":["academic"],"content":"\rLumerical scripting language","date":"2021-08-16","objectID":"/fdtd-basics/:8:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#lumerical-scripting-language"},{"categories":["academic"],"content":"\rGeneral workflow Set up simulation add simulation objects set properties Run simulation Analyze results ","date":"2021-08-16","objectID":"/fdtd-basics/:8:1","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#general-workflow"},{"categories":["academic"],"content":"\rCommon commands comment: ## end the statement with ; put the result on screen ? -?set; ## return a list of properties of the selected objects layoutmode() 0 No, in analysis mode 1 Yes add+â€˜object nameâ€™ -addrect() -addplane() -addpower() select() set(â€˜property_nameâ€™, value) setnamed(â€˜object_nameâ€™, â€˜property_nameâ€™, value) ## same as select + set getdata(â€˜object_nameâ€™, â€˜data_nameâ€™) getresult(â€˜object_nameâ€™, â€˜dataset_nameâ€™) getelectric() ## advanced command, return $\\left|E_{x}\\right|^2+\\left|E_{y}\\right|^2+\\left|E_{z}\\right|^2$ from the monitor transmission() ## return the fraction of power transmitted through the monitor with respect to the source power getsweepdata() getsweepresult() ","date":"2021-08-16","objectID":"/fdtd-basics/:8:2","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#common-commands"},{"categories":["academic"],"content":"\rPython API","date":"2021-08-16","objectID":"/fdtd-basics/:9:0","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#python-api"},{"categories":["academic"],"content":"\rimport modules import numpy as np from numpy.lib.scimath import sqrt ## complex sqrt() from scipy import constants import matplotlib.cm as cm import matplotlib.pyplot as plt %matplotlib inline from scipy import interpolate from collections import OrderedDict import importlib ## import mplcursors ## for data cursor ## import sys ## The default paths for windows spec = importlib.util.spec_from_file_location( 'lumapi', 'D:\\\\Program Files\\\\Lumerical\\\\v202\\\\api\\\\python\\\\lumapi.py') ## Functions that perform the actual loading lumapi = importlib.util.module_from_spec(spec) ## spec.loader.exec_module(lumapi) ","date":"2021-08-16","objectID":"/fdtd-basics/:9:1","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#import-modules"},{"categories":["academic"],"content":"\rstart a session fdtd = lumapi.FDTD() ## an empty instance fdtd = lumapi.FDTD('instance_name.fsp') ## an existing instance ","date":"2021-08-16","objectID":"/fdtd-basics/:9:2","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#start-a-session"},{"categories":["academic"],"content":"\rget help ?fdtd.addrect help(fdtd.addrect) ","date":"2021-08-16","objectID":"/fdtd-basics/:9:3","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#get-help"},{"categories":["academic"],"content":"\rsimulation objects\radd and then set fdtd.addrect() fdtd.set('name', 'grating_T') add and set at the same time\rset with parameters fdtd.addfdtd(dimension=\"2D\", x=0.0e-9, y=0.0e-9, x_span=3.0e-6, y_span=1.0e-6) set with dict ## order matters props = OrderedDict([(\"name\", \"power1\"),(\"override global monitor settings\", True),(\"x\", 0.),(\"y\", 0.4e-6), (\"monitor type\", \"linear x\"),(\"frequency points\", 10.0)]) fdtd.addpower(properties=props) ## order doesn't matter props = {\"name\": \"power2\", \"x\" : 0., \"y\" : 0.4e-6, \"monitor type\" : \"linear x\"} fdtd.addpower(properties=props) set with loop \"\"\" This function makes is convenient to reconstruct the simulation, while changing a few key properties, a brand new FDTD will start and close within this function \"\"\" fdtd = lumapi.FDTD() fdtd.addcircle() fdtd.addfdtd() fdtd.addmesh() fdtd.addtfsf() fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"scat\") fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"total\") fdtd.addtime() fdtd.set(\"name\", \"time\") fdtd.addprofile() fdtd.set(\"name\", \"profile\") configuration = ( (\"source\", ((\"polarization angle\", 0.), (\"injection axis\", \"y\"), (\"x\", 0.), (\"y\", 0.), (\"x span\", 100.0e-9), (\"y span\", 100.0e-9), (\"wavelength start\", 300.0e-9), (\"wavelength stop\", 400.0e-9))), (\"mesh\", ((\"dx\", 0.5e-9), (\"dy\", 0.5e-9), (\"x\", 0.), (\"y\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"FDTD\", ((\"simulation time\", 200e-15), ## in seconds (\"dimension\", \"2D\"), (\"x\",0.0e-9), (\"y\",0.), (\"z\",0.), (\"x span\", 800.0e-9), (\"y span\", 800.0e-9), (\"mesh refinement\", \"conformal variant 1\"))), (\"circle\", ((\"x\", 0.0e-9), (\"y\", 0.0e-9), (\"z\", 0.0e-9), (\"radius\", 25.0e-9), ## in meters (\"material\", \"Ag (Silver) - Palik (0-2um)\"))), (\"scat\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"total\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 90.0e-9), (\"y span\", 90.0e-9))), (\"time\", ((\"x\", 28.0e-9), (\"y\", 26.0e-9))), (\"profile\", ((\"x\", 0.), (\"y\", 0.), (\"x span\", 90e-9), (\"y span\", 90e-9), (\"override global monitor settings\", True), (\"use source limits\", False), (\"frequency points\", 1), (\"wavelength center\", float(profile_monitor_wavelength)), (\"wavelength span\", 0.))), ) ''' To set the geometry, we found that it is more efficient and cleaner to use nested tuple, however, advanced users may use any ordered collection. The order is important if a property depends on the value of another property. ''' for obj, parameters in configuration: for k, v in parameters: fdtd.setnamed(obj, k, v) ","date":"2021-08-16","objectID":"/fdtd-basics/:9:4","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#simulation-objects"},{"categories":["academic"],"content":"\rsimulation objects\radd and then set fdtd.addrect() fdtd.set('name', 'grating_T') add and set at the same time\rset with parameters fdtd.addfdtd(dimension=\"2D\", x=0.0e-9, y=0.0e-9, x_span=3.0e-6, y_span=1.0e-6) set with dict ## order matters props = OrderedDict([(\"name\", \"power1\"),(\"override global monitor settings\", True),(\"x\", 0.),(\"y\", 0.4e-6), (\"monitor type\", \"linear x\"),(\"frequency points\", 10.0)]) fdtd.addpower(properties=props) ## order doesn't matter props = {\"name\": \"power2\", \"x\" : 0., \"y\" : 0.4e-6, \"monitor type\" : \"linear x\"} fdtd.addpower(properties=props) set with loop \"\"\" This function makes is convenient to reconstruct the simulation, while changing a few key properties, a brand new FDTD will start and close within this function \"\"\" fdtd = lumapi.FDTD() fdtd.addcircle() fdtd.addfdtd() fdtd.addmesh() fdtd.addtfsf() fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"scat\") fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"total\") fdtd.addtime() fdtd.set(\"name\", \"time\") fdtd.addprofile() fdtd.set(\"name\", \"profile\") configuration = ( (\"source\", ((\"polarization angle\", 0.), (\"injection axis\", \"y\"), (\"x\", 0.), (\"y\", 0.), (\"x span\", 100.0e-9), (\"y span\", 100.0e-9), (\"wavelength start\", 300.0e-9), (\"wavelength stop\", 400.0e-9))), (\"mesh\", ((\"dx\", 0.5e-9), (\"dy\", 0.5e-9), (\"x\", 0.), (\"y\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"FDTD\", ((\"simulation time\", 200e-15), ## in seconds (\"dimension\", \"2D\"), (\"x\",0.0e-9), (\"y\",0.), (\"z\",0.), (\"x span\", 800.0e-9), (\"y span\", 800.0e-9), (\"mesh refinement\", \"conformal variant 1\"))), (\"circle\", ((\"x\", 0.0e-9), (\"y\", 0.0e-9), (\"z\", 0.0e-9), (\"radius\", 25.0e-9), ## in meters (\"material\", \"Ag (Silver) - Palik (0-2um)\"))), (\"scat\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"total\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 90.0e-9), (\"y span\", 90.0e-9))), (\"time\", ((\"x\", 28.0e-9), (\"y\", 26.0e-9))), (\"profile\", ((\"x\", 0.), (\"y\", 0.), (\"x span\", 90e-9), (\"y span\", 90e-9), (\"override global monitor settings\", True), (\"use source limits\", False), (\"frequency points\", 1), (\"wavelength center\", float(profile_monitor_wavelength)), (\"wavelength span\", 0.))), ) ''' To set the geometry, we found that it is more efficient and cleaner to use nested tuple, however, advanced users may use any ordered collection. The order is important if a property depends on the value of another property. ''' for obj, parameters in configuration: for k, v in parameters: fdtd.setnamed(obj, k, v) ","date":"2021-08-16","objectID":"/fdtd-basics/:9:4","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#add-and-then-set"},{"categories":["academic"],"content":"\rsimulation objects\radd and then set fdtd.addrect() fdtd.set('name', 'grating_T') add and set at the same time\rset with parameters fdtd.addfdtd(dimension=\"2D\", x=0.0e-9, y=0.0e-9, x_span=3.0e-6, y_span=1.0e-6) set with dict ## order matters props = OrderedDict([(\"name\", \"power1\"),(\"override global monitor settings\", True),(\"x\", 0.),(\"y\", 0.4e-6), (\"monitor type\", \"linear x\"),(\"frequency points\", 10.0)]) fdtd.addpower(properties=props) ## order doesn't matter props = {\"name\": \"power2\", \"x\" : 0., \"y\" : 0.4e-6, \"monitor type\" : \"linear x\"} fdtd.addpower(properties=props) set with loop \"\"\" This function makes is convenient to reconstruct the simulation, while changing a few key properties, a brand new FDTD will start and close within this function \"\"\" fdtd = lumapi.FDTD() fdtd.addcircle() fdtd.addfdtd() fdtd.addmesh() fdtd.addtfsf() fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"scat\") fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"total\") fdtd.addtime() fdtd.set(\"name\", \"time\") fdtd.addprofile() fdtd.set(\"name\", \"profile\") configuration = ( (\"source\", ((\"polarization angle\", 0.), (\"injection axis\", \"y\"), (\"x\", 0.), (\"y\", 0.), (\"x span\", 100.0e-9), (\"y span\", 100.0e-9), (\"wavelength start\", 300.0e-9), (\"wavelength stop\", 400.0e-9))), (\"mesh\", ((\"dx\", 0.5e-9), (\"dy\", 0.5e-9), (\"x\", 0.), (\"y\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"FDTD\", ((\"simulation time\", 200e-15), ## in seconds (\"dimension\", \"2D\"), (\"x\",0.0e-9), (\"y\",0.), (\"z\",0.), (\"x span\", 800.0e-9), (\"y span\", 800.0e-9), (\"mesh refinement\", \"conformal variant 1\"))), (\"circle\", ((\"x\", 0.0e-9), (\"y\", 0.0e-9), (\"z\", 0.0e-9), (\"radius\", 25.0e-9), ## in meters (\"material\", \"Ag (Silver) - Palik (0-2um)\"))), (\"scat\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"total\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 90.0e-9), (\"y span\", 90.0e-9))), (\"time\", ((\"x\", 28.0e-9), (\"y\", 26.0e-9))), (\"profile\", ((\"x\", 0.), (\"y\", 0.), (\"x span\", 90e-9), (\"y span\", 90e-9), (\"override global monitor settings\", True), (\"use source limits\", False), (\"frequency points\", 1), (\"wavelength center\", float(profile_monitor_wavelength)), (\"wavelength span\", 0.))), ) ''' To set the geometry, we found that it is more efficient and cleaner to use nested tuple, however, advanced users may use any ordered collection. The order is important if a property depends on the value of another property. ''' for obj, parameters in configuration: for k, v in parameters: fdtd.setnamed(obj, k, v) ","date":"2021-08-16","objectID":"/fdtd-basics/:9:4","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#add-and-set-at-the-same-time"},{"categories":["academic"],"content":"\rsimulation objects\radd and then set fdtd.addrect() fdtd.set('name', 'grating_T') add and set at the same time\rset with parameters fdtd.addfdtd(dimension=\"2D\", x=0.0e-9, y=0.0e-9, x_span=3.0e-6, y_span=1.0e-6) set with dict ## order matters props = OrderedDict([(\"name\", \"power1\"),(\"override global monitor settings\", True),(\"x\", 0.),(\"y\", 0.4e-6), (\"monitor type\", \"linear x\"),(\"frequency points\", 10.0)]) fdtd.addpower(properties=props) ## order doesn't matter props = {\"name\": \"power2\", \"x\" : 0., \"y\" : 0.4e-6, \"monitor type\" : \"linear x\"} fdtd.addpower(properties=props) set with loop \"\"\" This function makes is convenient to reconstruct the simulation, while changing a few key properties, a brand new FDTD will start and close within this function \"\"\" fdtd = lumapi.FDTD() fdtd.addcircle() fdtd.addfdtd() fdtd.addmesh() fdtd.addtfsf() fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"scat\") fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"total\") fdtd.addtime() fdtd.set(\"name\", \"time\") fdtd.addprofile() fdtd.set(\"name\", \"profile\") configuration = ( (\"source\", ((\"polarization angle\", 0.), (\"injection axis\", \"y\"), (\"x\", 0.), (\"y\", 0.), (\"x span\", 100.0e-9), (\"y span\", 100.0e-9), (\"wavelength start\", 300.0e-9), (\"wavelength stop\", 400.0e-9))), (\"mesh\", ((\"dx\", 0.5e-9), (\"dy\", 0.5e-9), (\"x\", 0.), (\"y\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"FDTD\", ((\"simulation time\", 200e-15), ## in seconds (\"dimension\", \"2D\"), (\"x\",0.0e-9), (\"y\",0.), (\"z\",0.), (\"x span\", 800.0e-9), (\"y span\", 800.0e-9), (\"mesh refinement\", \"conformal variant 1\"))), (\"circle\", ((\"x\", 0.0e-9), (\"y\", 0.0e-9), (\"z\", 0.0e-9), (\"radius\", 25.0e-9), ## in meters (\"material\", \"Ag (Silver) - Palik (0-2um)\"))), (\"scat\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"total\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 90.0e-9), (\"y span\", 90.0e-9))), (\"time\", ((\"x\", 28.0e-9), (\"y\", 26.0e-9))), (\"profile\", ((\"x\", 0.), (\"y\", 0.), (\"x span\", 90e-9), (\"y span\", 90e-9), (\"override global monitor settings\", True), (\"use source limits\", False), (\"frequency points\", 1), (\"wavelength center\", float(profile_monitor_wavelength)), (\"wavelength span\", 0.))), ) ''' To set the geometry, we found that it is more efficient and cleaner to use nested tuple, however, advanced users may use any ordered collection. The order is important if a property depends on the value of another property. ''' for obj, parameters in configuration: for k, v in parameters: fdtd.setnamed(obj, k, v) ","date":"2021-08-16","objectID":"/fdtd-basics/:9:4","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#set-with-parameters"},{"categories":["academic"],"content":"\rsimulation objects\radd and then set fdtd.addrect() fdtd.set('name', 'grating_T') add and set at the same time\rset with parameters fdtd.addfdtd(dimension=\"2D\", x=0.0e-9, y=0.0e-9, x_span=3.0e-6, y_span=1.0e-6) set with dict ## order matters props = OrderedDict([(\"name\", \"power1\"),(\"override global monitor settings\", True),(\"x\", 0.),(\"y\", 0.4e-6), (\"monitor type\", \"linear x\"),(\"frequency points\", 10.0)]) fdtd.addpower(properties=props) ## order doesn't matter props = {\"name\": \"power2\", \"x\" : 0., \"y\" : 0.4e-6, \"monitor type\" : \"linear x\"} fdtd.addpower(properties=props) set with loop \"\"\" This function makes is convenient to reconstruct the simulation, while changing a few key properties, a brand new FDTD will start and close within this function \"\"\" fdtd = lumapi.FDTD() fdtd.addcircle() fdtd.addfdtd() fdtd.addmesh() fdtd.addtfsf() fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"scat\") fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"total\") fdtd.addtime() fdtd.set(\"name\", \"time\") fdtd.addprofile() fdtd.set(\"name\", \"profile\") configuration = ( (\"source\", ((\"polarization angle\", 0.), (\"injection axis\", \"y\"), (\"x\", 0.), (\"y\", 0.), (\"x span\", 100.0e-9), (\"y span\", 100.0e-9), (\"wavelength start\", 300.0e-9), (\"wavelength stop\", 400.0e-9))), (\"mesh\", ((\"dx\", 0.5e-9), (\"dy\", 0.5e-9), (\"x\", 0.), (\"y\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"FDTD\", ((\"simulation time\", 200e-15), ## in seconds (\"dimension\", \"2D\"), (\"x\",0.0e-9), (\"y\",0.), (\"z\",0.), (\"x span\", 800.0e-9), (\"y span\", 800.0e-9), (\"mesh refinement\", \"conformal variant 1\"))), (\"circle\", ((\"x\", 0.0e-9), (\"y\", 0.0e-9), (\"z\", 0.0e-9), (\"radius\", 25.0e-9), ## in meters (\"material\", \"Ag (Silver) - Palik (0-2um)\"))), (\"scat\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"total\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 90.0e-9), (\"y span\", 90.0e-9))), (\"time\", ((\"x\", 28.0e-9), (\"y\", 26.0e-9))), (\"profile\", ((\"x\", 0.), (\"y\", 0.), (\"x span\", 90e-9), (\"y span\", 90e-9), (\"override global monitor settings\", True), (\"use source limits\", False), (\"frequency points\", 1), (\"wavelength center\", float(profile_monitor_wavelength)), (\"wavelength span\", 0.))), ) ''' To set the geometry, we found that it is more efficient and cleaner to use nested tuple, however, advanced users may use any ordered collection. The order is important if a property depends on the value of another property. ''' for obj, parameters in configuration: for k, v in parameters: fdtd.setnamed(obj, k, v) ","date":"2021-08-16","objectID":"/fdtd-basics/:9:4","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#set-with-dict"},{"categories":["academic"],"content":"\rsimulation objects\radd and then set fdtd.addrect() fdtd.set('name', 'grating_T') add and set at the same time\rset with parameters fdtd.addfdtd(dimension=\"2D\", x=0.0e-9, y=0.0e-9, x_span=3.0e-6, y_span=1.0e-6) set with dict ## order matters props = OrderedDict([(\"name\", \"power1\"),(\"override global monitor settings\", True),(\"x\", 0.),(\"y\", 0.4e-6), (\"monitor type\", \"linear x\"),(\"frequency points\", 10.0)]) fdtd.addpower(properties=props) ## order doesn't matter props = {\"name\": \"power2\", \"x\" : 0., \"y\" : 0.4e-6, \"monitor type\" : \"linear x\"} fdtd.addpower(properties=props) set with loop \"\"\" This function makes is convenient to reconstruct the simulation, while changing a few key properties, a brand new FDTD will start and close within this function \"\"\" fdtd = lumapi.FDTD() fdtd.addcircle() fdtd.addfdtd() fdtd.addmesh() fdtd.addtfsf() fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"scat\") fdtd.addobject(\"cross_section\") fdtd.set(\"name\", \"total\") fdtd.addtime() fdtd.set(\"name\", \"time\") fdtd.addprofile() fdtd.set(\"name\", \"profile\") configuration = ( (\"source\", ((\"polarization angle\", 0.), (\"injection axis\", \"y\"), (\"x\", 0.), (\"y\", 0.), (\"x span\", 100.0e-9), (\"y span\", 100.0e-9), (\"wavelength start\", 300.0e-9), (\"wavelength stop\", 400.0e-9))), (\"mesh\", ((\"dx\", 0.5e-9), (\"dy\", 0.5e-9), (\"x\", 0.), (\"y\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"FDTD\", ((\"simulation time\", 200e-15), ## in seconds (\"dimension\", \"2D\"), (\"x\",0.0e-9), (\"y\",0.), (\"z\",0.), (\"x span\", 800.0e-9), (\"y span\", 800.0e-9), (\"mesh refinement\", \"conformal variant 1\"))), (\"circle\", ((\"x\", 0.0e-9), (\"y\", 0.0e-9), (\"z\", 0.0e-9), (\"radius\", 25.0e-9), ## in meters (\"material\", \"Ag (Silver) - Palik (0-2um)\"))), (\"scat\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 110.0e-9), (\"y span\", 110.0e-9))), (\"total\", ((\"x\", 0.), (\"y\", 0.), (\"z\", 0.), (\"x span\", 90.0e-9), (\"y span\", 90.0e-9))), (\"time\", ((\"x\", 28.0e-9), (\"y\", 26.0e-9))), (\"profile\", ((\"x\", 0.), (\"y\", 0.), (\"x span\", 90e-9), (\"y span\", 90e-9), (\"override global monitor settings\", True), (\"use source limits\", False), (\"frequency points\", 1), (\"wavelength center\", float(profile_monitor_wavelength)), (\"wavelength span\", 0.))), ) ''' To set the geometry, we found that it is more efficient and cleaner to use nested tuple, however, advanced users may use any ordered collection. The order is important if a property depends on the value of another property. ''' for obj, parameters in configuration: for k, v in parameters: fdtd.setnamed(obj, k, v) ","date":"2021-08-16","objectID":"/fdtd-basics/:9:4","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#set-with-loop"},{"categories":["academic"],"content":"\rrun, save and close fdtd.run() fdtd.save('filename.fsp') fdtd.close() ","date":"2021-08-16","objectID":"/fdtd-basics/:9:5","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#run-save-and-close"},{"categories":["academic"],"content":"\rdeal with data\rget data Ex = fdtd.getdata(\"profile\",\"Ex\") print('Frequency field profile data Ex is type', type(Ex),' with shape', str(Ex.shape )) Frequency field profile data Ex is type \u003cclass â€™numpy.ndarrayâ€™\u003e with shape (101, 61, 1, 5) T, time = fdtd.getresult(\"power\", \"T\"), fdtd.getresult(\"time\",\"E\") print('Transmission result T is type', type(T),' with keys', str(T.keys()) ) print('Time monitor result E is type', type(time),' with keys', str(time.keys()) ) Transmission result T is type \u003cclass â€˜dictâ€™\u003e with keys dict_keys([â€™lambdaâ€™, â€˜fâ€™, â€˜Tâ€™, â€˜Lumerical_datasetâ€™]) Time monitor result E is type \u003cclass â€˜dictâ€™\u003e with keys dict_keys([â€™tâ€™, â€˜xâ€™, â€˜yâ€™, â€˜zâ€™, â€˜Eâ€™, â€˜Lumerical_datasetâ€™]) data is numerical data type, usually numpy array. dataset is dict type, and should be taken care by T=T_dataset['T'] now T is numpy array type data structure ## get dataset E = fdtd.getresult(\"DFT\",\"E\") ## electric field E = E['E'] we see here E is a 5-dimension matrix Ex = E[:,:,0,:,0] ## spatial(x,y,z) ,wavelength, Ex Ey = E[:,:,0,:,1] ## spatial(x,y,z) ,wavelength, Ey Ez = E[:,:,0,:,2] ## spatial(x,y,z) ,wavelength, Ez ","date":"2021-08-16","objectID":"/fdtd-basics/:9:6","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#deal-with-data"},{"categories":["academic"],"content":"\rdeal with data\rget data Ex = fdtd.getdata(\"profile\",\"Ex\") print('Frequency field profile data Ex is type', type(Ex),' with shape', str(Ex.shape )) Frequency field profile data Ex is type with shape (101, 61, 1, 5) T, time = fdtd.getresult(\"power\", \"T\"), fdtd.getresult(\"time\",\"E\") print('Transmission result T is type', type(T),' with keys', str(T.keys()) ) print('Time monitor result E is type', type(time),' with keys', str(time.keys()) ) Transmission result T is type with keys dict_keys([â€™lambdaâ€™, â€˜fâ€™, â€˜Tâ€™, â€˜Lumerical_datasetâ€™]) Time monitor result E is type with keys dict_keys([â€™tâ€™, â€˜xâ€™, â€˜yâ€™, â€˜zâ€™, â€˜Eâ€™, â€˜Lumerical_datasetâ€™]) data is numerical data type, usually numpy array. dataset is dict type, and should be taken care by T=T_dataset['T'] now T is numpy array type data structure ## get dataset E = fdtd.getresult(\"DFT\",\"E\") ## electric field E = E['E'] we see here E is a 5-dimension matrix Ex = E[:,:,0,:,0] ## spatial(x,y,z) ,wavelength, Ex Ey = E[:,:,0,:,1] ## spatial(x,y,z) ,wavelength, Ey Ez = E[:,:,0,:,2] ## spatial(x,y,z) ,wavelength, Ez ","date":"2021-08-16","objectID":"/fdtd-basics/:9:6","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#get-data"},{"categories":["academic"],"content":"\rdeal with data\rget data Ex = fdtd.getdata(\"profile\",\"Ex\") print('Frequency field profile data Ex is type', type(Ex),' with shape', str(Ex.shape )) Frequency field profile data Ex is type with shape (101, 61, 1, 5) T, time = fdtd.getresult(\"power\", \"T\"), fdtd.getresult(\"time\",\"E\") print('Transmission result T is type', type(T),' with keys', str(T.keys()) ) print('Time monitor result E is type', type(time),' with keys', str(time.keys()) ) Transmission result T is type with keys dict_keys([â€™lambdaâ€™, â€˜fâ€™, â€˜Tâ€™, â€˜Lumerical_datasetâ€™]) Time monitor result E is type with keys dict_keys([â€™tâ€™, â€˜xâ€™, â€˜yâ€™, â€˜zâ€™, â€˜Eâ€™, â€˜Lumerical_datasetâ€™]) data is numerical data type, usually numpy array. dataset is dict type, and should be taken care by T=T_dataset['T'] now T is numpy array type data structure ## get dataset E = fdtd.getresult(\"DFT\",\"E\") ## electric field E = E['E'] we see here E is a 5-dimension matrix Ex = E[:,:,0,:,0] ## spatial(x,y,z) ,wavelength, Ex Ey = E[:,:,0,:,1] ## spatial(x,y,z) ,wavelength, Ey Ez = E[:,:,0,:,2] ## spatial(x,y,z) ,wavelength, Ez ","date":"2021-08-16","objectID":"/fdtd-basics/:9:6","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#data-structure"},{"categories":["academic"],"content":"\rpass data between python and lumerical fdtd.putv('var_name',py_var) ## python to lumerical py_var = fdtd.getv( 'var_name') ## lumerical to python ","date":"2021-08-16","objectID":"/fdtd-basics/:9:7","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#pass-data-between-python-and-lumerical"},{"categories":["academic"],"content":"\rrun lumerical script language fdtd.eval('x = [0;1;2];y = [0;sqrt(3);0];z = [0;0;0];C = [1,3,2];ds = unstructureddataset(x,y,z,C);') ","date":"2021-08-16","objectID":"/fdtd-basics/:9:8","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#run-lumerical-script-language"},{"categories":["academic"],"content":"\ruseful code snippets ## make sure it is a \"1d array\", numpy type n = np.array(fdtd.gratingn(mname, size_f)).flatten() ## MATLAB length() size_n = n.size ## MATLAB zeros(), input should be a tuple T_grating = np.zeros((size_n, size_m, size_f)) ## initialize with data type grating_S = np.zeros((size_n, size_m, size_f), dtype=np.complex_) ## MATLAB and Lumerical start from 1, but python starts from 0 ## 1 dimension closest value's index n1 = abs(n - 0).argmin() ## n is an array ## 2 dimension closest values' index u1i = abs(u1_new - u1[:, np.newaxis]).argmin(axis = 1) u2i = abs(u2_new - u2[:, np.newaxis]).argmin(axis = 1) T_nm_new[np.ix_(u1i,u2i)] = T_nm + 1e-18 ## different with MATLAB ## meshgrid indexing, opposite to MATLAB, but more intuitive np.meshgrid(u1, u2, indexing='ij') ## real transmitted power power1 = fdtd.transmission(mname).flatten() power1 = power1[fpoint] * fdtd.sourcepower(f) ## interp3d method 1 tempX,tempY,tempZ = np.meshgrid(tempx,tempy,tempz,indexing = 'ij') pts = np.vstack((tempX.flatten(),tempY.flatten(),tempZ.flatten())).transpose() temp_interp_func = interpolate.RegularGridInterpolator((xt,yt,zt), E2t) E2t = temp_interp_func(pts).reshape((xt.size,yt.size,zt.size)) ## interp3d method 2 tempX, tempY, tempZ = np.meshgrid(tempx, tempy, tempz, indexing='ij') pts = np.vstack( (tempX.flatten(), tempY.flatten(), tempZ.flatten())).transpose() E2t = interpolate.interpn((xt, yt, zt), E2t, pts).reshape( (xt.size, yt.size, zt.size)) 1d plot with plt.xkcd(): fig, ax = plt.subplots(dpi = 100) ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) ## ax.set_xticks([]) ## ax.set_yticks([]) ax.plot(lam/1e-6,theta_01, label = \"Theta\") ax.plot(lam/1e-6,phi_01, label = \"Phi\") ax.set_xlim(0.85,1) ax.set_ylim(70,91) ax.set_xlabel(r'Wavelength ($\\mathrm{\\mu m}$)') ax.set_ylabel(\"Diffraction angle for \"+str(n_target)+\",\"+str(m_target)+\") order\") ax.legend() 2d plot with interp2d ## create image x = E_image[\"x\"]*1e6 ## data on uniform grid, convert m to um y = E_image[\"y\"]*1e6 ## data on uniform grid, convert m to um Ex = E_image[\"E\"][:,:,0,0,0] ## data on uniform grid, selecting the x-component of first frequency Ex_abs = abs(Ex) xi = numpy.linspace(numpy.amin(x),numpy.amax(x),len(x)) yi = numpy.linspace(numpy.amin(y),numpy.amax(y),len(y)) f= interpolate.interp2d(y,x,Ex_abs) Exi_abs = f(yi, xi) im = plt.imshow(numpy.transpose(Exi_abs), aspect='equal', interpolation='bicubic', cmap=cm.RdYlGn, origin='lower', extent=[xi.min(), xi.max(), yi.min(), yi.max()], vmax=Exi_abs.max(), vmin=Exi_abs.min()) plt.colorbar() plt.xlabel('x (um)') plt.ylabel('y (um)') indices=numpy.where(Exi_abs==Exi_abs.max()) ## finding the location of max abs(Ex) plt.annotate('local max', xy=(xi[indices[0]], yi[indices[1]]), xytext=(0.7, -0.2), arrowprops=dict(arrowstyle=\"-\u003e\")) plt.savefig(\"image_plot.png\") plt.show() 2d subplots Xt, Zt = np.meshgrid(xt, zt, indexing='ij') with plt.xkcd(): fig, axes = plt.subplots(1, 2, dpi=100, figsize=(10, 4)) ax = axes[0] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2t, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by FDTD at \" + str(np.round(lam * 1e9, 3)) + \"nm\") ax = axes[1] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2p, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by projection at \" + str(np.round(lam * 1e9, 3)) + \"nm\") plt.tight_layout() custom functions def addattribute(dataset_name, attribute_name, attribute_data): ''' Help on method addattribute: addattribute(dataset_name, attribute_name, attribute_data) method of lumapi.FDTD instance Adds an attribute to an existing dataset. +--------------------------------------+--------------------------------------+ | Syntax | Description | +------------------------------","date":"2021-08-16","objectID":"/fdtd-basics/:9:9","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#useful-code-snippets"},{"categories":["academic"],"content":"\ruseful code snippets ## make sure it is a \"1d array\", numpy type n = np.array(fdtd.gratingn(mname, size_f)).flatten() ## MATLAB length() size_n = n.size ## MATLAB zeros(), input should be a tuple T_grating = np.zeros((size_n, size_m, size_f)) ## initialize with data type grating_S = np.zeros((size_n, size_m, size_f), dtype=np.complex_) ## MATLAB and Lumerical start from 1, but python starts from 0 ## 1 dimension closest value's index n1 = abs(n - 0).argmin() ## n is an array ## 2 dimension closest values' index u1i = abs(u1_new - u1[:, np.newaxis]).argmin(axis = 1) u2i = abs(u2_new - u2[:, np.newaxis]).argmin(axis = 1) T_nm_new[np.ix_(u1i,u2i)] = T_nm + 1e-18 ## different with MATLAB ## meshgrid indexing, opposite to MATLAB, but more intuitive np.meshgrid(u1, u2, indexing='ij') ## real transmitted power power1 = fdtd.transmission(mname).flatten() power1 = power1[fpoint] * fdtd.sourcepower(f) ## interp3d method 1 tempX,tempY,tempZ = np.meshgrid(tempx,tempy,tempz,indexing = 'ij') pts = np.vstack((tempX.flatten(),tempY.flatten(),tempZ.flatten())).transpose() temp_interp_func = interpolate.RegularGridInterpolator((xt,yt,zt), E2t) E2t = temp_interp_func(pts).reshape((xt.size,yt.size,zt.size)) ## interp3d method 2 tempX, tempY, tempZ = np.meshgrid(tempx, tempy, tempz, indexing='ij') pts = np.vstack( (tempX.flatten(), tempY.flatten(), tempZ.flatten())).transpose() E2t = interpolate.interpn((xt, yt, zt), E2t, pts).reshape( (xt.size, yt.size, zt.size)) 1d plot with plt.xkcd(): fig, ax = plt.subplots(dpi = 100) ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) ## ax.set_xticks([]) ## ax.set_yticks([]) ax.plot(lam/1e-6,theta_01, label = \"Theta\") ax.plot(lam/1e-6,phi_01, label = \"Phi\") ax.set_xlim(0.85,1) ax.set_ylim(70,91) ax.set_xlabel(r'Wavelength ($\\mathrm{\\mu m}$)') ax.set_ylabel(\"Diffraction angle for \"+str(n_target)+\",\"+str(m_target)+\") order\") ax.legend() 2d plot with interp2d ## create image x = E_image[\"x\"]*1e6 ## data on uniform grid, convert m to um y = E_image[\"y\"]*1e6 ## data on uniform grid, convert m to um Ex = E_image[\"E\"][:,:,0,0,0] ## data on uniform grid, selecting the x-component of first frequency Ex_abs = abs(Ex) xi = numpy.linspace(numpy.amin(x),numpy.amax(x),len(x)) yi = numpy.linspace(numpy.amin(y),numpy.amax(y),len(y)) f= interpolate.interp2d(y,x,Ex_abs) Exi_abs = f(yi, xi) im = plt.imshow(numpy.transpose(Exi_abs), aspect='equal', interpolation='bicubic', cmap=cm.RdYlGn, origin='lower', extent=[xi.min(), xi.max(), yi.min(), yi.max()], vmax=Exi_abs.max(), vmin=Exi_abs.min()) plt.colorbar() plt.xlabel('x (um)') plt.ylabel('y (um)') indices=numpy.where(Exi_abs==Exi_abs.max()) ## finding the location of max abs(Ex) plt.annotate('local max', xy=(xi[indices[0]], yi[indices[1]]), xytext=(0.7, -0.2), arrowprops=dict(arrowstyle=\"-\u003e\")) plt.savefig(\"image_plot.png\") plt.show() 2d subplots Xt, Zt = np.meshgrid(xt, zt, indexing='ij') with plt.xkcd(): fig, axes = plt.subplots(1, 2, dpi=100, figsize=(10, 4)) ax = axes[0] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2t, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by FDTD at \" + str(np.round(lam * 1e9, 3)) + \"nm\") ax = axes[1] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2p, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by projection at \" + str(np.round(lam * 1e9, 3)) + \"nm\") plt.tight_layout() custom functions def addattribute(dataset_name, attribute_name, attribute_data): ''' Help on method addattribute: addattribute(dataset_name, attribute_name, attribute_data) method of lumapi.FDTD instance Adds an attribute to an existing dataset. +--------------------------------------+--------------------------------------+ | Syntax | Description | +------------------------------","date":"2021-08-16","objectID":"/fdtd-basics/:9:9","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#1d-plot"},{"categories":["academic"],"content":"\ruseful code snippets ## make sure it is a \"1d array\", numpy type n = np.array(fdtd.gratingn(mname, size_f)).flatten() ## MATLAB length() size_n = n.size ## MATLAB zeros(), input should be a tuple T_grating = np.zeros((size_n, size_m, size_f)) ## initialize with data type grating_S = np.zeros((size_n, size_m, size_f), dtype=np.complex_) ## MATLAB and Lumerical start from 1, but python starts from 0 ## 1 dimension closest value's index n1 = abs(n - 0).argmin() ## n is an array ## 2 dimension closest values' index u1i = abs(u1_new - u1[:, np.newaxis]).argmin(axis = 1) u2i = abs(u2_new - u2[:, np.newaxis]).argmin(axis = 1) T_nm_new[np.ix_(u1i,u2i)] = T_nm + 1e-18 ## different with MATLAB ## meshgrid indexing, opposite to MATLAB, but more intuitive np.meshgrid(u1, u2, indexing='ij') ## real transmitted power power1 = fdtd.transmission(mname).flatten() power1 = power1[fpoint] * fdtd.sourcepower(f) ## interp3d method 1 tempX,tempY,tempZ = np.meshgrid(tempx,tempy,tempz,indexing = 'ij') pts = np.vstack((tempX.flatten(),tempY.flatten(),tempZ.flatten())).transpose() temp_interp_func = interpolate.RegularGridInterpolator((xt,yt,zt), E2t) E2t = temp_interp_func(pts).reshape((xt.size,yt.size,zt.size)) ## interp3d method 2 tempX, tempY, tempZ = np.meshgrid(tempx, tempy, tempz, indexing='ij') pts = np.vstack( (tempX.flatten(), tempY.flatten(), tempZ.flatten())).transpose() E2t = interpolate.interpn((xt, yt, zt), E2t, pts).reshape( (xt.size, yt.size, zt.size)) 1d plot with plt.xkcd(): fig, ax = plt.subplots(dpi = 100) ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) ## ax.set_xticks([]) ## ax.set_yticks([]) ax.plot(lam/1e-6,theta_01, label = \"Theta\") ax.plot(lam/1e-6,phi_01, label = \"Phi\") ax.set_xlim(0.85,1) ax.set_ylim(70,91) ax.set_xlabel(r'Wavelength ($\\mathrm{\\mu m}$)') ax.set_ylabel(\"Diffraction angle for \"+str(n_target)+\",\"+str(m_target)+\") order\") ax.legend() 2d plot with interp2d ## create image x = E_image[\"x\"]*1e6 ## data on uniform grid, convert m to um y = E_image[\"y\"]*1e6 ## data on uniform grid, convert m to um Ex = E_image[\"E\"][:,:,0,0,0] ## data on uniform grid, selecting the x-component of first frequency Ex_abs = abs(Ex) xi = numpy.linspace(numpy.amin(x),numpy.amax(x),len(x)) yi = numpy.linspace(numpy.amin(y),numpy.amax(y),len(y)) f= interpolate.interp2d(y,x,Ex_abs) Exi_abs = f(yi, xi) im = plt.imshow(numpy.transpose(Exi_abs), aspect='equal', interpolation='bicubic', cmap=cm.RdYlGn, origin='lower', extent=[xi.min(), xi.max(), yi.min(), yi.max()], vmax=Exi_abs.max(), vmin=Exi_abs.min()) plt.colorbar() plt.xlabel('x (um)') plt.ylabel('y (um)') indices=numpy.where(Exi_abs==Exi_abs.max()) ## finding the location of max abs(Ex) plt.annotate('local max', xy=(xi[indices[0]], yi[indices[1]]), xytext=(0.7, -0.2), arrowprops=dict(arrowstyle=\"-\u003e\")) plt.savefig(\"image_plot.png\") plt.show() 2d subplots Xt, Zt = np.meshgrid(xt, zt, indexing='ij') with plt.xkcd(): fig, axes = plt.subplots(1, 2, dpi=100, figsize=(10, 4)) ax = axes[0] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2t, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by FDTD at \" + str(np.round(lam * 1e9, 3)) + \"nm\") ax = axes[1] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2p, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by projection at \" + str(np.round(lam * 1e9, 3)) + \"nm\") plt.tight_layout() custom functions def addattribute(dataset_name, attribute_name, attribute_data): ''' Help on method addattribute: addattribute(dataset_name, attribute_name, attribute_data) method of lumapi.FDTD instance Adds an attribute to an existing dataset. +--------------------------------------+--------------------------------------+ | Syntax | Description | +------------------------------","date":"2021-08-16","objectID":"/fdtd-basics/:9:9","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#2d-plot-with-interp2d"},{"categories":["academic"],"content":"\ruseful code snippets ## make sure it is a \"1d array\", numpy type n = np.array(fdtd.gratingn(mname, size_f)).flatten() ## MATLAB length() size_n = n.size ## MATLAB zeros(), input should be a tuple T_grating = np.zeros((size_n, size_m, size_f)) ## initialize with data type grating_S = np.zeros((size_n, size_m, size_f), dtype=np.complex_) ## MATLAB and Lumerical start from 1, but python starts from 0 ## 1 dimension closest value's index n1 = abs(n - 0).argmin() ## n is an array ## 2 dimension closest values' index u1i = abs(u1_new - u1[:, np.newaxis]).argmin(axis = 1) u2i = abs(u2_new - u2[:, np.newaxis]).argmin(axis = 1) T_nm_new[np.ix_(u1i,u2i)] = T_nm + 1e-18 ## different with MATLAB ## meshgrid indexing, opposite to MATLAB, but more intuitive np.meshgrid(u1, u2, indexing='ij') ## real transmitted power power1 = fdtd.transmission(mname).flatten() power1 = power1[fpoint] * fdtd.sourcepower(f) ## interp3d method 1 tempX,tempY,tempZ = np.meshgrid(tempx,tempy,tempz,indexing = 'ij') pts = np.vstack((tempX.flatten(),tempY.flatten(),tempZ.flatten())).transpose() temp_interp_func = interpolate.RegularGridInterpolator((xt,yt,zt), E2t) E2t = temp_interp_func(pts).reshape((xt.size,yt.size,zt.size)) ## interp3d method 2 tempX, tempY, tempZ = np.meshgrid(tempx, tempy, tempz, indexing='ij') pts = np.vstack( (tempX.flatten(), tempY.flatten(), tempZ.flatten())).transpose() E2t = interpolate.interpn((xt, yt, zt), E2t, pts).reshape( (xt.size, yt.size, zt.size)) 1d plot with plt.xkcd(): fig, ax = plt.subplots(dpi = 100) ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) ## ax.set_xticks([]) ## ax.set_yticks([]) ax.plot(lam/1e-6,theta_01, label = \"Theta\") ax.plot(lam/1e-6,phi_01, label = \"Phi\") ax.set_xlim(0.85,1) ax.set_ylim(70,91) ax.set_xlabel(r'Wavelength ($\\mathrm{\\mu m}$)') ax.set_ylabel(\"Diffraction angle for \"+str(n_target)+\",\"+str(m_target)+\") order\") ax.legend() 2d plot with interp2d ## create image x = E_image[\"x\"]*1e6 ## data on uniform grid, convert m to um y = E_image[\"y\"]*1e6 ## data on uniform grid, convert m to um Ex = E_image[\"E\"][:,:,0,0,0] ## data on uniform grid, selecting the x-component of first frequency Ex_abs = abs(Ex) xi = numpy.linspace(numpy.amin(x),numpy.amax(x),len(x)) yi = numpy.linspace(numpy.amin(y),numpy.amax(y),len(y)) f= interpolate.interp2d(y,x,Ex_abs) Exi_abs = f(yi, xi) im = plt.imshow(numpy.transpose(Exi_abs), aspect='equal', interpolation='bicubic', cmap=cm.RdYlGn, origin='lower', extent=[xi.min(), xi.max(), yi.min(), yi.max()], vmax=Exi_abs.max(), vmin=Exi_abs.min()) plt.colorbar() plt.xlabel('x (um)') plt.ylabel('y (um)') indices=numpy.where(Exi_abs==Exi_abs.max()) ## finding the location of max abs(Ex) plt.annotate('local max', xy=(xi[indices[0]], yi[indices[1]]), xytext=(0.7, -0.2), arrowprops=dict(arrowstyle=\"-\u003e\")) plt.savefig(\"image_plot.png\") plt.show() 2d subplots Xt, Zt = np.meshgrid(xt, zt, indexing='ij') with plt.xkcd(): fig, axes = plt.subplots(1, 2, dpi=100, figsize=(10, 4)) ax = axes[0] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2t, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by FDTD at \" + str(np.round(lam * 1e9, 3)) + \"nm\") ax = axes[1] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2p, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by projection at \" + str(np.round(lam * 1e9, 3)) + \"nm\") plt.tight_layout() custom functions def addattribute(dataset_name, attribute_name, attribute_data): ''' Help on method addattribute: addattribute(dataset_name, attribute_name, attribute_data) method of lumapi.FDTD instance Adds an attribute to an existing dataset. +--------------------------------------+--------------------------------------+ | Syntax | Description | +------------------------------","date":"2021-08-16","objectID":"/fdtd-basics/:9:9","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#2d-subplots"},{"categories":["academic"],"content":"\ruseful code snippets ## make sure it is a \"1d array\", numpy type n = np.array(fdtd.gratingn(mname, size_f)).flatten() ## MATLAB length() size_n = n.size ## MATLAB zeros(), input should be a tuple T_grating = np.zeros((size_n, size_m, size_f)) ## initialize with data type grating_S = np.zeros((size_n, size_m, size_f), dtype=np.complex_) ## MATLAB and Lumerical start from 1, but python starts from 0 ## 1 dimension closest value's index n1 = abs(n - 0).argmin() ## n is an array ## 2 dimension closest values' index u1i = abs(u1_new - u1[:, np.newaxis]).argmin(axis = 1) u2i = abs(u2_new - u2[:, np.newaxis]).argmin(axis = 1) T_nm_new[np.ix_(u1i,u2i)] = T_nm + 1e-18 ## different with MATLAB ## meshgrid indexing, opposite to MATLAB, but more intuitive np.meshgrid(u1, u2, indexing='ij') ## real transmitted power power1 = fdtd.transmission(mname).flatten() power1 = power1[fpoint] * fdtd.sourcepower(f) ## interp3d method 1 tempX,tempY,tempZ = np.meshgrid(tempx,tempy,tempz,indexing = 'ij') pts = np.vstack((tempX.flatten(),tempY.flatten(),tempZ.flatten())).transpose() temp_interp_func = interpolate.RegularGridInterpolator((xt,yt,zt), E2t) E2t = temp_interp_func(pts).reshape((xt.size,yt.size,zt.size)) ## interp3d method 2 tempX, tempY, tempZ = np.meshgrid(tempx, tempy, tempz, indexing='ij') pts = np.vstack( (tempX.flatten(), tempY.flatten(), tempZ.flatten())).transpose() E2t = interpolate.interpn((xt, yt, zt), E2t, pts).reshape( (xt.size, yt.size, zt.size)) 1d plot with plt.xkcd(): fig, ax = plt.subplots(dpi = 100) ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) ## ax.set_xticks([]) ## ax.set_yticks([]) ax.plot(lam/1e-6,theta_01, label = \"Theta\") ax.plot(lam/1e-6,phi_01, label = \"Phi\") ax.set_xlim(0.85,1) ax.set_ylim(70,91) ax.set_xlabel(r'Wavelength ($\\mathrm{\\mu m}$)') ax.set_ylabel(\"Diffraction angle for \"+str(n_target)+\",\"+str(m_target)+\") order\") ax.legend() 2d plot with interp2d ## create image x = E_image[\"x\"]*1e6 ## data on uniform grid, convert m to um y = E_image[\"y\"]*1e6 ## data on uniform grid, convert m to um Ex = E_image[\"E\"][:,:,0,0,0] ## data on uniform grid, selecting the x-component of first frequency Ex_abs = abs(Ex) xi = numpy.linspace(numpy.amin(x),numpy.amax(x),len(x)) yi = numpy.linspace(numpy.amin(y),numpy.amax(y),len(y)) f= interpolate.interp2d(y,x,Ex_abs) Exi_abs = f(yi, xi) im = plt.imshow(numpy.transpose(Exi_abs), aspect='equal', interpolation='bicubic', cmap=cm.RdYlGn, origin='lower', extent=[xi.min(), xi.max(), yi.min(), yi.max()], vmax=Exi_abs.max(), vmin=Exi_abs.min()) plt.colorbar() plt.xlabel('x (um)') plt.ylabel('y (um)') indices=numpy.where(Exi_abs==Exi_abs.max()) ## finding the location of max abs(Ex) plt.annotate('local max', xy=(xi[indices[0]], yi[indices[1]]), xytext=(0.7, -0.2), arrowprops=dict(arrowstyle=\"-\u003e\")) plt.savefig(\"image_plot.png\") plt.show() 2d subplots Xt, Zt = np.meshgrid(xt, zt, indexing='ij') with plt.xkcd(): fig, axes = plt.subplots(1, 2, dpi=100, figsize=(10, 4)) ax = axes[0] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2t, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by FDTD at \" + str(np.round(lam * 1e9, 3)) + \"nm\") ax = axes[1] ax.spines['right'].set_visible(False) ax.spines['top'].set_visible(False) p = ax.pcolormesh(Xt * 1e6, Zt * 1e6, E2p, shading='auto') cb = fig.colorbar(p, ax=ax) ax.set_xlabel('x (microns)') ax.set_ylabel('z (microns)') ax.set_title(\"|E|^2 by projection at \" + str(np.round(lam * 1e9, 3)) + \"nm\") plt.tight_layout() custom functions def addattribute(dataset_name, attribute_name, attribute_data): ''' Help on method addattribute: addattribute(dataset_name, attribute_name, attribute_data) method of lumapi.FDTD instance Adds an attribute to an existing dataset. +--------------------------------------+--------------------------------------+ | Syntax | Description | +------------------------------","date":"2021-08-16","objectID":"/fdtd-basics/:9:9","series":["fdtd"],"tags":["python"],"title":"FDTD Basics","uri":"/fdtd-basics/#custom-functions"},{"categories":null,"content":"\rå…³äº ","date":"2021-08-16","objectID":"/about/:0:0","series":null,"tags":null,"title":"å…³äº FakePhysicist","uri":"/about/#å…³äº"},{"categories":null,"content":"\rå…³äºä½œè€… ğŸ¤ª å¼ºè¿«ç—‡ä¸æ‹–å»¶ç—‡æ‚£è€… ğŸ¤” çƒ­è¡·äºäº†è§£ä¸–ç•Œçš„è¿è½¬æœºåˆ¶ â¤ï¸ çˆ±å¥½ ","date":"2021-08-16","objectID":"/about/:1:0","series":null,"tags":null,"title":"å…³äº FakePhysicist","uri":"/about/#å…³äºä½œè€…"},{"categories":null,"content":"\rHaha\rç©·ä¸”ç›Šåšï¼Œä¸å é’äº‘ä¹‹å¿—\ræ»•ç‹é˜åº\ræ—¶è¿ä¸é½ï¼Œå‘½é€”å¤šèˆ›ã€‚å†¯å”æ˜“è€ï¼Œæå¹¿éš¾å°ã€‚å±ˆè´¾è°Šäºé•¿æ²™ï¼Œéæ— åœ£ä¸»ï¼›çªœæ¢é¸¿äºæµ·æ›²ï¼Œå²‚ä¹æ˜æ—¶ï¼Ÿæ‰€èµ–å›å­è§æœºï¼Œè¾¾äººçŸ¥å‘½ã€‚è€å½“ç›Šå£®ï¼Œå®ç§»ç™½é¦–ä¹‹å¿ƒï¼Ÿç©·ä¸”ç›Šåšï¼Œä¸å é’äº‘ä¹‹å¿—é…Œè´ªæ³‰è€Œè§‰çˆ½ï¼Œå¤„æ¶¸è¾™ä»¥çŠ¹æ¬¢ã€‚åŒ—æµ·è™½èµŠï¼Œæ‰¶æ‘‡å¯æ¥ï¼›ä¸œéš…å·²é€ï¼Œæ¡‘æ¦†éæ™šã€‚å­Ÿå°é«˜æ´ï¼Œç©ºä½™æŠ¥å›½ä¹‹æƒ…ï¼›é˜®ç±çŒ–ç‹‚ï¼Œå²‚æ•ˆç©·é€”ä¹‹å“­ï¼ å‹ƒï¼Œä¸‰å°ºå¾®å‘½ï¼Œä¸€ä»‹ä¹¦ç”Ÿã€‚æ— è·¯è¯·ç¼¨ï¼Œç­‰ç»ˆå†›ä¹‹å¼±å† ï¼›æœ‰æ€€æŠ•ç¬”ï¼Œæ…•å®—æ‚«ä¹‹é•¿é£ã€‚èˆç°ªç¬äºç™¾é¾„ï¼Œå¥‰æ™¨æ˜äºä¸‡é‡Œã€‚éè°¢å®¶ä¹‹å®æ ‘ï¼Œæ¥å­Ÿæ°ä¹‹èŠ³é‚»ã€‚ä»–æ—¥è¶‹åº­ï¼Œå¨é™ªé²¤å¯¹ï¼›ä»Šå…¹æ§è¢‚ï¼Œå–œæ‰˜é¾™é—¨ã€‚æ¨æ„ä¸é€¢ï¼ŒæŠšå‡Œäº‘è€Œè‡ªæƒœï¼›é’ŸæœŸæ—¢é‡ï¼Œå¥æµæ°´ä»¥ä½•æƒ­ï¼Ÿ ","date":"2021-08-16","objectID":"/about/:2:0","series":null,"tags":null,"title":"å…³äº FakePhysicist","uri":"/about/#haha"},{"categories":null,"content":"\rMy Github chart\r","date":"2021-08-16","objectID":"/about/:3:0","series":null,"tags":null,"title":"å…³äº FakePhysicist","uri":"/about/#my-github-chart"},{"categories":["tossing"],"content":"åœ¨ wsl ç¯å¢ƒä¸‹å®‰è£… Hugo å¹¶ä¸”é…ç½®ä¸»é¢˜ DoIt. ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:0:0","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#"},{"categories":["tossing"],"content":"\rHugo","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:1:0","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#hugo"},{"categories":["tossing"],"content":"\rå®‰è£…Install Hugo ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:1:1","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#Hugo-installation"},{"categories":["tossing"],"content":"\rå¸¸ç”¨å‘½ä»¤ hugo ç¼–è¯‘é¡¹ç›®ç”Ÿæˆé™æ€ç½‘ç«™ï¼Œé»˜è®¤ä½ç½®åœ¨é¡¹ç›®çš„ public ç›®å½•ä¸‹ hugo server --disableFastRender -D é¢„è§ˆç½‘ç«™å†…å®¹ hugo new {folder}/{name}.md åˆ›å»ºæ–°æ–‡ç« ï¼Œä½¿ç”¨ markdown è¿›è¡Œæ’ç‰ˆï¼Œä¸€èˆ¬é»˜è®¤æ”¾åœ¨ posts æ–‡ä»¶å¤¹ä¸‹ï¼› åŸºæœ¬æ²¡äº†ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨è¿™ä¸‰ä¸ªå‘½ä»¤å°±å¤Ÿäº†. ä½†æ˜¯è¦æ³¨æ„, éœ€è¦åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œè¿™äº›å‘½ä»¤. ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:1:2","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#å¸¸ç”¨å‘½ä»¤"},{"categories":["tossing"],"content":"\rDoIt","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:2:0","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#doit"},{"categories":["tossing"],"content":"\rå®‰è£…é¡¹ç›®ä¸»é¡µ DoIt æ–‡æ¡£è¯´æ˜ DoIt Documentation åˆ›å»ºä½ çš„é¡¹ç›®, Hugo æä¾›äº†ä¸€ä¸ª new å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç½‘ç«™: hugo new site my_website cd my_website åˆå§‹åŒ–ä½ çš„é¡¹ç›®ç›®å½•ä¸º git ä»“åº“, å¹¶ä¸”æŠŠä¸»é¢˜ä»“åº“ä½œä¸ºä½ çš„ç½‘ç«™ç›®å½•çš„å­æ¨¡å—: git init git submodule add https://github.com/HEIGE-PCloud/DoIt.git themes/DoIt åˆå§‹åŒ–é¡¹ç›®ï¼šgit submodule update --init --recursiveï¼Œå®Œæˆå®‰è£… è‡ªåŠ¨æ›´æ–° submoduleï¼šgit submodule update --remote --merge; ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:2:1","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#DoIt-installation"},{"categories":["tossing"],"content":"\ré¡¹ç›®æ–‡ä»¶æ ‘ç»“æ„ . â”œâ”€â”€ archetypes # markdownæ–‡ç« çš„æ¨¡ç‰ˆ â”œâ”€â”€ config.toml # é…ç½®æ–‡ä»¶ â”œâ”€â”€ content # ç½‘ç«™å†…å®¹ï¼Œä¸»è¦ä¿å­˜æ–‡ç«  â”œâ”€â”€ data # ç”Ÿæˆç½‘ç«™å¯ç”¨çš„æ•°æ®æ–‡ä»¶ï¼Œå¯ç”¨åœ¨æ¨¡ç‰ˆä¸­ â”œâ”€â”€ layouts # ç”Ÿæˆç½‘ç«™æ—¶å¯ç”¨çš„æ¨¡ç‰ˆ â”œâ”€â”€ public # é€šè¿‡hugoå‘½ä»¤ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼Œä¸»è¦å‘å¸ƒè¿™ä¸ª â”œâ”€â”€ resources # é€šè¿‡hugoå‘½ä»¤ä¸€èµ·ç”Ÿæˆçš„èµ„æºæ–‡ä»¶ï¼Œæš‚æ—¶ä¸çŸ¥é“ä»€ä¹ˆç”¨ â”œâ”€â”€ static # é™æ€æ–‡ä»¶ï¼Œæ¯”å¦‚æ–‡ç« ä¸­çš„å›¾ç‰‡/è§†é¢‘æ–‡ä»¶ã€ç¼©ç•¥å›¾ç­‰ â””â”€â”€ themes # ä¿å­˜å¯ç”¨çš„hugoä¸»é¢˜ é€šå¸¸ï¼Œæˆ‘ä»¬åªä¼šç”¨åˆ°ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶å¤¹çš„ä¸œè¥¿ config.toml ï¼šä¿å­˜ hugo çš„é…ç½®ï¼ŒåŒ…æ‹¬ä¸»é¢˜çš„é…ç½®ç­‰.è¯¦ç»†è®¾ç½®è§è¿™é‡Œ. content ï¼šä¿å­˜ç½‘ç«™çš„å„ç§å†…å®¹ï¼Œæ¯”å¦‚æ–‡ç« . archetypes ï¼š ä¿å­˜æ–‡ç« çš„ markdown æ¨¡ç‰ˆï¼Œé€šå¸¸åŒ…æ‹¬æ–‡ç« çš„å‰ç¼€æ³¨é‡Šï¼Œæ˜¯ä¸€äº›åœ¨åˆ›å»ºæ–°æ–‡ç« æ—¶ä¼šè¢«ç”¨åˆ°. static ï¼šä¿å­˜æ–‡ç« ä¸­ç”¨åˆ°çš„é™æ€æ–‡ä»¶ï¼Œæ¯”å¦‚å›¾ç‰‡ã€ç½‘ç«™ç¼©ç•¥å›¾ç­‰. public ï¼šé€šè¿‡ hugo å‘½ä»¤ç”Ÿæˆçš„é™æ€ HTML, CSS, JS ç­‰.åœ¨æœåŠ¡å™¨ä¸Šå‘å¸ƒæ—¶ä¸»è¦å‘å¸ƒè¿™ä¸ªæ–‡ä»¶å¤¹. ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:2:2","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#é¡¹ç›®æ–‡ä»¶æ ‘ç»“æ„"},{"categories":["tossing"],"content":"\rå¼€å§‹å†™ç¬¬ä¸€ç¯‡æ–‡ç« ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:3:0","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#å¼€å§‹å†™ç¬¬ä¸€ç¯‡æ–‡ç« "},{"categories":["tossing"],"content":"\rç”Ÿæˆæ–°æ–‡ç« ç”Ÿæˆæ–°æ–‡ç« hello-worldçš„å‘½ä»¤ï¼š hugo new posts/hello-world/index.md æ‰§è¡Œå®Œæˆåï¼Œåœ¨./content/postsç›®å½•ä¸‹åº”è¯¥å¯ä»¥çœ‹åˆ°æ–°æ–‡ä»¶ï¼ŒåŒæ—¶é‡Œé¢å·²ç»æœ‰ markdown æ¨¡ç‰ˆä¸­çš„æ–‡ç« å‰ç¼€å‚æ•°. ä¹Ÿå¯ä»¥æ‰‹åŠ¨å¤åˆ¶æ—§æ–‡ç« æ¥ç”Ÿæˆæ–°æ–‡ç« ï¼Œä¸é€šè¿‡å‘½ä»¤. ä¹Ÿå¯ä»¥åœ¨contentæ–‡ä»¶å¤¹ä¸‹å»ºæ–°çš„æ–‡ä»¶å¤¹ï¼Œæ–¹ä¾¿ç®¡ç†.è¿™ç§æƒ…å†µä¸‹ç”Ÿæˆçš„é™æ€ HTML æ–‡ä»¶è·¯ç”±æ•ˆæœå¦‚ä¸‹ï¼š . â””â”€â”€ content â””â”€â”€ about | â””â”€â”€ index.md // \u003c- https://example.com/about/ â”œâ”€â”€ posts | â”œâ”€â”€ firstpost.md // \u003c- https://example.com/posts/firstpost/ | â”œâ”€â”€ happy | | â””â”€â”€ ness.md // \u003c- https://example.com/posts/happy/ness/ | â””â”€â”€ secondpost.md // \u003c- https://example.com/posts/secondpost/ â””â”€â”€ quote â”œâ”€â”€ first.md // \u003c- https://example.com/quote/first/ â””â”€â”€ second.md // \u003c- https://example.com/quote/second/ ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:3:1","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#ç”Ÿæˆæ–°æ–‡ç« "},{"categories":["tossing"],"content":"\ræœ¬åœ°è°ƒè¯• hugo server --disableFastRender ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:3:2","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#æœ¬åœ°è°ƒè¯•"},{"categories":["tossing"],"content":"\rGitHub Repositoryä¸¤ä¸ª Repositories Repository 1: ä¸€ä¸ªç”¨äºæ‰˜ç®¡åšå®¢é¡¹ç›®æºæ–‡ä»¶, è®¾ç½®æƒé™ä¸º Private Repository 2: ä¸€ä¸ªç”¨äºæ‰˜ç®¡åšå®¢ç¼–è¯‘åç”Ÿæˆçš„é™æ€æ–‡ä»¶, è®¾ç½®æƒé™ä¸º Public ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:4:0","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#github-repository"},{"categories":["tossing"],"content":"\rRepository 1è®¾ç½®ä¸º private æƒé™ç­‰çº§ï¼Œç”¨äºæ‰˜ç®¡åšå®¢é¡¹ç›®æºæ–‡ä»¶. åˆ«äººçœ‹ä¸åˆ°ä½ çš„æºä»£ç . é“¾æ¥æœ¬åœ°ä»“åº“ä¸è¿œç«¯ä»“åº“ ## ä½äºåšå®¢æºä»£ç æ ¹ç›®å½• ## åˆå§‹åŒ–æœ¬åœ°Gitä»“åº“ git init ## æ·»åŠ åä¸º Origin çš„è¿œç«¯Gitä»“åº“ git remote add origin {{è¿™é‡Œæ›¿æ¢æˆä½ çš„ä»“åº“åœ¨Github `git clone`ç”¨çš„åœ°å€}} ## é€‰æ‹©æ‰€æœ‰æ–‡ä»¶ git add -A ## Pushåˆ°github git push -u origin master æˆ–è€…ç›´æ¥ç”¨ VSCode é“¾æ¥æœ¬åœ°ä»“åº“ä¸è¿œç«¯ GitHub ä»“åº“. åˆ›å»º.gitignoreåœ¨æºä»£ç é¡¹ç›®ä¸­åˆ›å»º .gitignore æ–‡ä»¶ï¼Œæ¥é˜²æ­¢æŠŠç”Ÿæˆçš„é™æ€æ–‡ä»¶ä¸Šä¼  å‚è€ƒ gitignore.io # Created by https://www.toptal.com/developers/gitignore/api/hugo # Edit at https://www.toptal.com/developers/gitignore?templates=hugo ### Hugo ### # Generated files by hugo /public/ /resources/_gen/ # Executable may be added to repository hugo.exe hugo.darwin hugo.linux # End of https://www.toptal.com/developers/gitignore/api/hugo ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:4:1","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#repository-1"},{"categories":["tossing"],"content":"\rRepository 1è®¾ç½®ä¸º private æƒé™ç­‰çº§ï¼Œç”¨äºæ‰˜ç®¡åšå®¢é¡¹ç›®æºæ–‡ä»¶. åˆ«äººçœ‹ä¸åˆ°ä½ çš„æºä»£ç . é“¾æ¥æœ¬åœ°ä»“åº“ä¸è¿œç«¯ä»“åº“ ## ä½äºåšå®¢æºä»£ç æ ¹ç›®å½• ## åˆå§‹åŒ–æœ¬åœ°Gitä»“åº“ git init ## æ·»åŠ åä¸º Origin çš„è¿œç«¯Gitä»“åº“ git remote add origin {{è¿™é‡Œæ›¿æ¢æˆä½ çš„ä»“åº“åœ¨Github `git clone`ç”¨çš„åœ°å€}} ## é€‰æ‹©æ‰€æœ‰æ–‡ä»¶ git add -A ## Pushåˆ°github git push -u origin master æˆ–è€…ç›´æ¥ç”¨ VSCode é“¾æ¥æœ¬åœ°ä»“åº“ä¸è¿œç«¯ GitHub ä»“åº“. åˆ›å»º.gitignoreåœ¨æºä»£ç é¡¹ç›®ä¸­åˆ›å»º .gitignore æ–‡ä»¶ï¼Œæ¥é˜²æ­¢æŠŠç”Ÿæˆçš„é™æ€æ–‡ä»¶ä¸Šä¼  å‚è€ƒ gitignore.io # Created by https://www.toptal.com/developers/gitignore/api/hugo # Edit at https://www.toptal.com/developers/gitignore?templates=hugo ### Hugo ### # Generated files by hugo /public/ /resources/_gen/ # Executable may be added to repository hugo.exe hugo.darwin hugo.linux # End of https://www.toptal.com/developers/gitignore/api/hugo ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:4:1","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#é“¾æ¥æœ¬åœ°ä»“åº“ä¸è¿œç«¯ä»“åº“"},{"categories":["tossing"],"content":"\rRepository 1è®¾ç½®ä¸º private æƒé™ç­‰çº§ï¼Œç”¨äºæ‰˜ç®¡åšå®¢é¡¹ç›®æºæ–‡ä»¶. åˆ«äººçœ‹ä¸åˆ°ä½ çš„æºä»£ç . é“¾æ¥æœ¬åœ°ä»“åº“ä¸è¿œç«¯ä»“åº“ ## ä½äºåšå®¢æºä»£ç æ ¹ç›®å½• ## åˆå§‹åŒ–æœ¬åœ°Gitä»“åº“ git init ## æ·»åŠ åä¸º Origin çš„è¿œç«¯Gitä»“åº“ git remote add origin {{è¿™é‡Œæ›¿æ¢æˆä½ çš„ä»“åº“åœ¨Github `git clone`ç”¨çš„åœ°å€}} ## é€‰æ‹©æ‰€æœ‰æ–‡ä»¶ git add -A ## Pushåˆ°github git push -u origin master æˆ–è€…ç›´æ¥ç”¨ VSCode é“¾æ¥æœ¬åœ°ä»“åº“ä¸è¿œç«¯ GitHub ä»“åº“. åˆ›å»º.gitignoreåœ¨æºä»£ç é¡¹ç›®ä¸­åˆ›å»º .gitignore æ–‡ä»¶ï¼Œæ¥é˜²æ­¢æŠŠç”Ÿæˆçš„é™æ€æ–‡ä»¶ä¸Šä¼  å‚è€ƒ gitignore.io # Created by https://www.toptal.com/developers/gitignore/api/hugo # Edit at https://www.toptal.com/developers/gitignore?templates=hugo ### Hugo ### # Generated files by hugo /public/ /resources/_gen/ # Executable may be added to repository hugo.exe hugo.darwin hugo.linux # End of https://www.toptal.com/developers/gitignore/api/hugo ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:4:1","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#åˆ›å»ºgitignore"},{"categories":["tossing"],"content":"\rRepository 2\råˆ›å»ºä»“åº“ï¼Œæ³¨æ„åç§°ç¬¬äºŒä¸ªä»“åº“åå­—æ¯”è¾ƒé‡è¦ï¼Œå¿…é¡»æ˜¯ {{ä½ çš„githubç”¨æˆ·å}}.github.io. æ¯”å¦‚æˆ‘çš„ GitHub åå­—ä¸º FakePhysicist, é‚£ä¹ˆæˆ‘éœ€è¦åˆ›å»ºçš„ä»“åº“åç§°ä¸º fakephysicist.github.io. åŒæ—¶æ³¨æ„è¦è®¾ç½®ä¸º Public æƒé™ç­‰çº§. åœ¨ä»“åº“è®¾ç½®é‡Œè®¾ç½®å¯ç”¨ GitHub Pagesè®¾ç½® Branch ä¸º main, é™æ€æ–‡ä»¶ä½ç½®ä¸º/(root), åŸå› æ˜¯æˆ‘ä»¬åœ¨ä¸‹ä¸ªæ­¥éª¤ä¸­ä¼šç›´æ¥å°†ç”Ÿæˆçš„ public æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ push åˆ° main åˆ†æ”¯çš„ / ç›®å½•ä¸‹. ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:4:2","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#repository-2"},{"categories":["tossing"],"content":"\rRepository 2\råˆ›å»ºä»“åº“ï¼Œæ³¨æ„åç§°ç¬¬äºŒä¸ªä»“åº“åå­—æ¯”è¾ƒé‡è¦ï¼Œå¿…é¡»æ˜¯ {{ä½ çš„githubç”¨æˆ·å}}.github.io. æ¯”å¦‚æˆ‘çš„ GitHub åå­—ä¸º FakePhysicist, é‚£ä¹ˆæˆ‘éœ€è¦åˆ›å»ºçš„ä»“åº“åç§°ä¸º fakephysicist.github.io. åŒæ—¶æ³¨æ„è¦è®¾ç½®ä¸º Public æƒé™ç­‰çº§. åœ¨ä»“åº“è®¾ç½®é‡Œè®¾ç½®å¯ç”¨ GitHub Pagesè®¾ç½® Branch ä¸º main, é™æ€æ–‡ä»¶ä½ç½®ä¸º/(root), åŸå› æ˜¯æˆ‘ä»¬åœ¨ä¸‹ä¸ªæ­¥éª¤ä¸­ä¼šç›´æ¥å°†ç”Ÿæˆçš„ public æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ push åˆ° main åˆ†æ”¯çš„ / ç›®å½•ä¸‹. ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:4:2","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#åˆ›å»ºä»“åº“æ³¨æ„åç§°"},{"categories":["tossing"],"content":"\rRepository 2\råˆ›å»ºä»“åº“ï¼Œæ³¨æ„åç§°ç¬¬äºŒä¸ªä»“åº“åå­—æ¯”è¾ƒé‡è¦ï¼Œå¿…é¡»æ˜¯ {{ä½ çš„githubç”¨æˆ·å}}.github.io. æ¯”å¦‚æˆ‘çš„ GitHub åå­—ä¸º FakePhysicist, é‚£ä¹ˆæˆ‘éœ€è¦åˆ›å»ºçš„ä»“åº“åç§°ä¸º fakephysicist.github.io. åŒæ—¶æ³¨æ„è¦è®¾ç½®ä¸º Public æƒé™ç­‰çº§. åœ¨ä»“åº“è®¾ç½®é‡Œè®¾ç½®å¯ç”¨ GitHub Pagesè®¾ç½® Branch ä¸º main, é™æ€æ–‡ä»¶ä½ç½®ä¸º/(root), åŸå› æ˜¯æˆ‘ä»¬åœ¨ä¸‹ä¸ªæ­¥éª¤ä¸­ä¼šç›´æ¥å°†ç”Ÿæˆçš„ public æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ push åˆ° main åˆ†æ”¯çš„ / ç›®å½•ä¸‹. ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:4:2","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#åœ¨ä»“åº“è®¾ç½®é‡Œè®¾ç½®å¯ç”¨-github-pages"},{"categories":["tossing"],"content":"\ræ‰‹å·¥å‘å¸ƒ(æ›´å¥½, ä¸ä¼šæœ‰ç½‘é¡µæ¸²æŸ“é—®é¢˜. GitHub Actions ä¼šæœ‰ç½‘é¡µæ¸²æŸ“é—®é¢˜) å°†hugoå‘½ä»¤ç”Ÿæˆçš„publicæ–‡ä»¶å¤¹ä¸Šä¼ åˆ° GitHub pages é¡¹ç›®ä¸‹ã€‚ åœ¨ my_website ç›®å½•ä¸‹æ‰§è¡Œ git submodule update --init --recursive å°†å­æ¨¡å—æ›´æ–°åˆ°æœ€æ–°çŠ¶æ€. åœ¨ config.toml ä¸­, è®¾ç½® baseurl = https://\u003cUSERNAME\u003e.github.io/. ç¡®ä¿ public æ–‡ä»¶å¤¹è¢«åˆ é™¤. å°† \u003cUSERNAME\u003e.github.io repository è®¾ç½®ä¸ºä¸€ä¸ª submodule, å¹¶è®¾ç½®å…¶åœ¨æ–‡ä»¶å¤¹ public ä¸­. git submodule add -f -b main https://github.com/FakePhysicist/fakephysicist.github.io.git public ç”Ÿæˆç½‘é¡µ, å¹¶å°†å…¶æ¨é€åˆ° repository 2. hugo cd public git add . git commit -m \"Build website\" git push origin main cd .. Add, commit and push repository 1. git add . git commit -m \"Initial commit\" git push -u origin master ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:5:0","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#æ‰‹å·¥å‘å¸ƒ"},{"categories":["tossing"],"content":"\rTips","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:6:0","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#tips"},{"categories":["tossing"],"content":"\rä½¿ç”¨ Math shortcodeå¯ä»¥é¡ºåˆ©ä½¿ç”¨ KaTeX çš„ Math shortcode. å‚è€ƒ è¿™æ ·å¯ä»¥çœå»ä½¿ç”¨è½¬ä¹‰å­—ç¬¦\\çš„éº»çƒ¦. ä¸ç”¨å‡ºç°\\\\\\\\, \\_, \\* è¿™æ ·å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿. å‚è€ƒ. ä½¿ç”¨æ–¹æ³•: \\begin{aligned}\r\\frac{1}{2} \u0026= \\frac{1}{2} \\\\\r\\end{aligned}\r","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:6:1","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#ä½¿ç”¨-math-shortcode"},{"categories":["tossing"],"content":"\rè¯„è®ºç³»ç»Ÿ giscusåœ¨ config.toml ä¸­å¯ç”¨è¯„è®ºç³»ç»Ÿ å…·ä½“é…ç½®å‚è€ƒ giscus. ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:6:2","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#è¯„è®ºç³»ç»Ÿ-giscus"},{"categories":["tossing"],"content":"\rä¸­æ–‡æ’ç‰ˆæŒ‡å—ä¸­æ–‡æ–‡æ¡ˆæ’ç‰ˆæŒ‡åŒ— ä¸»è¦å°±æ˜¯è¯´: ä¸­è‹±æ–‡ä¹‹é—´è¦æœ‰ç©ºæ ¼ ä¸­æ–‡ä¸æ•°å­—ä¹‹é—´è¦æœ‰ç©ºæ ¼ ","date":"2021-01-01","objectID":"/how-to-build-a-website-with-hugo/:6:3","series":[],"tags":["hugo","doit"],"title":"Hugo + DoIt åˆ›å»ºä¸ªäººä¸»é¡µ","uri":"/how-to-build-a-website-with-hugo/#ä¸­æ–‡æ’ç‰ˆæŒ‡å—"},{"categories":null,"content":"\rStay","date":"0001-01-01","objectID":"/love/:0:0","series":null,"tags":null,"title":"","uri":"/love/#stay"},{"categories":null,"content":"\r","date":"0001-01-01","objectID":"/love/:1:0","series":null,"tags":null,"title":"","uri":"/love/#id-1 class="},{"categories":null,"content":"\rSince 2019/8/14","date":"0001-01-01","objectID":"/since/:0:0","series":null,"tags":null,"title":"","uri":"/since/#since-2019814"},{"categories":null,"content":"\ræˆ‘å·²ç»åœ¨ç¾å›½å¾…äº†\r","date":"0001-01-01","objectID":"/since/:1:0","series":null,"tags":null,"title":"","uri":"/since/#æˆ‘å·²ç»åœ¨ç¾å›½å¾…äº†"},{"categories":null,"content":" ä½ æ²¡æœ‰è¿æ¥è‡³äº’è”ç½‘, åªæœ‰ç¼“å­˜çš„é¡µé¢å¯ç”¨. ","date":"0001-01-01","objectID":"/offline/:0:0","series":null,"tags":null,"title":"Offline","uri":"/offline/#"}]